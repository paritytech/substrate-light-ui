{"version":3,"sources":["../../light/lib/generated/kusama_cc3 sync","../../ui-components/lib/globalStyle.js","../../ui-components/lib/Icon.js","../../ui-components/lib/constants.js","../../ui-components/lib/Shared.styles.js","../../ui-components/lib/CopyButton.js","../../ui-components/lib/FlexSegment.js","../../ui-components/lib/Alert.js","../../ui-components/lib/BalanceDisplay.js","../../ui-components/lib/Button.js","../../ui-components/lib/Card.js","../../ui-components/lib/Circle.js","../../ui-components/lib/ConnectedNodes.js","../../ui-components/lib/Dropdown.js","../../ui-components/lib/Fab.js","../../ui-components/lib/Input.js","../../ui-components/lib/Margin.js","../../ui-components/lib/util/checkInstanceOf.js","../../ui-components/lib/InputAddress.js","../../ui-components/lib/InputFile.js","../../ui-components/lib/Loading.js","../../ui-components/lib/Menu.js","../../ui-components/lib/MnemonicPhraseList.js","../../ui-components/lib/MnemonicRewriteParts.js","../../ui-components/lib/Modal.js","../../ui-components/lib/NavButton.js","../../ui-components/lib/stateful/Balance.js","../../ui-components/lib/stateful/AddressSummary/AddressSummary.js","../../ui-components/lib/TableAccounts.js","../../ui-components/lib/TableTxSummary.js","components/Alerts/Alerts.tsx","components/context/AccountContext/AccountContext.tsx","components/context/ApiContext/ApiContext.tsx","components/context/InjectedContext/Injected.ts","util/env.ts","components/context/InjectedContext/sendMessage.ts","components/context/InjectedContext/InjectedContext.tsx","components/context/InjectedContext/messaging.ts","components/context/ProviderContext/ProviderContext.tsx","../../light/lib/kusama_cc3/fromUrl.js","../../light/lib/kusama_cc3/index.js","../../light/lib/WasmProvider.js","../../light/lib/westend/fromUrl.js","../../light/lib/westend/index.js","components/TopBar/ChooseProvider/discover.ts","components/TopBar/ChooseProvider/ChooseProvider.tsx","components/TopBar/TopBar.tsx","components/ContextGate/gates/ApiGate.tsx","components/ContextGate/gates/HealthGate.tsx","components/ContextGate/gates/SystemGate.tsx","components/ContextGate/ContextGate.tsx","util/assert.ts","pages/Accounts/Add/shared/StepMeta.tsx","pages/Accounts/Add/Create/StepMnemonic.tsx","pages/Accounts/Add/Create/StepRewrite.tsx","pages/Accounts/Add/Create/CreateAccount.tsx","pages/Accounts/Add/Restore/WithJson.tsx","pages/Accounts/Add/Restore/WithPhrase.tsx","pages/Accounts/Add/AddAccount.tsx","pages/Accounts/Overview/OverviewCard.tsx","pages/Accounts/Overview/Overview.tsx","pages/Accounts/Accounts.tsx","pages/Transfer/TxDetails/TxDetails.tsx","pages/Transfer/TxDetails/TxStatus.tsx","pages/Transfer/TxForm/TxForm.tsx","pages/Transfer/validate.ts","pages/Transfer/Transfer.tsx","pages/Routes.tsx","App.tsx","index.tsx","../../light/lib/generated/kusama_cc3/kusama_cc3.js","../../light/lib/generated/kusama_cc3/snippets/libp2p-wasm-ext-70c268b265aa8c56/src/websockets.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","GlobalStyle","createGlobalStyle","substrateLightTheme","black","grey","redOrange","coral","tangerine","orangeYellow","hotPink","electricPurple","purple","darkBlue","lightBlue2","lightBlue1","neonBlue","robinEggBlue","eggShell","white","polkadotOfficialTheme","typography","monospace","green","shadow","signal","maroon","theme","Object","assign","Icon","styled","SUIIcon","FONT_SIZES","small","medium","button","large","big","FONT_WEIGHTS","MARGIN_SIZES","huge","ContainerFlex","SUIContainer","Container","FadedText","b","p","ErrorText","div","props","flex","Header","margin","padding","flexDirection","h2","textAlign","DynamicSizeText","fontSize","fontWeight","StyledLinkButton","span","inverted","color","StyledNavButton","negative","disabled","Stacked","alignItems","justifyContent","StackedHorizontal","wrapAt","SubHeader","h3","WrapperDiv","width","height","FramedBlock","BlackBlock","NodesBlock","fluid","NodeSelector","NodesConnector","StyledFlexSegment","SUISegment","backgroundColor","FlexSegment","React","createElement","Group","colors","error","info","success","warning","gradientColor","index","alertType","find","type","StyledAlert","SUIMessage","Alert","defaultProps","detailed","orientation","BalanceDisplay","allBalances","allStaking","handleRedeem","renderRedeemButton","controllerId","onClick","toString","name","renderUnlocking","unlocking","Fragment","map","remainingEras","value","key","formatBalance","toNumber","renderDetailedBalances","availableBalance","lockedBalance","reservedBalance","redeemable","gtn","freeBalance","formatNumber","accountNonce","Loader","active","inline","Button","SUIButton","StyledCard","SUICard","minHeight","overflow","Card","Circle","fill","label","radius","withShadow","wrapClass","StyledCircle","WhiteText","className","Content","Description","nodesClassName","connectorClassName","ConnectedNodes","children","Children","child","i","__rest","s","t","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","length","propertyIsEnumerable","DropdownDark","SUIDropdown","Dropdown","rest","styles","inputFieldText","inputFieldNumber","StyledFakeInput","StyledInput","SUIInput","borderless","StyledLabel","Input","textLabel","fake","getMarginValue","position","size","sizeValues","Margin","isInstanceOfInjectedExtension","object","DropdownItemText","DropdownWrapper","renderDropdownItemText","account","meta","as","right","address","substr","slice","json","InputAddress","allAddresses","accounts","addresses","fromKeyring","onChangeAddress","types","currentAddress","allAccounts","injectedAccount","current","decodeAddress","target","isEqual","undefined","getExtensionAddressFromString","handleChange","_event","data","renderDropdownItem","Item","image","IdentityIcon","text","selection","labeled","Menu","includes","values","defaultAccept","join","isDragAccept","isDragReject","isDragActive","getColor","InputFile","onDrop","useCallback","acceptedFiles","reader","FileReader","onabort","console","log","onerror","onload","onChange","result","forEach","file","readAsBinaryString","useDropzone","accept","getRootProps","getInputProps","Inverted","Loading","loadingText","StyleTab","menu","item","StyledMenu","SUIMenu","tabs","MnemonicPhraseList","phrase","split","word","MnemonicRewriteParts","firstWord","secondWord","thirdWord","fourthWord","randomFourWords","handleSetFirstWord","handleSetSecondWord","handleSetThirdWord","handleSetFourthWord","Divider","SUIDivider","StyledModal","SUIModal","bottom","StyledContent","StyledActions","StyledHeader","StyledSubHeader","Modal","Actions","NavButton","Balance","api","useState","setAllBalances","setAllStaking","useEffect","balanceSub","combineLatest","derive","balances","all","staking","subscribe","unsubscribe","of","tx","withdrawUnbonded","ICON_SIZES","tiny","renderIcon","renderBadge","renderDetails","summaryProps","bondingPair","isNominator","isValidator","noBalance","noPlaceholderName","withShortAddress","concat","renderShortAddress","renderAccountType","renderBondingPair","AddressSummary","left","StyledTable","SUITable","TableAccounts","striped","selectable","basic","unstackable","HeaderCell","Body","Row","Cell","TableTxSummary","Alerts","useContext","AlertsContext","alerts","remove","alert","onDismiss","content","AccountContext","createContext","AccountContextProvider","injected","originName","extensionAccounts","setExtensionAccounts","reduce","accumulator","set","Map","Provider","l","logger","ApiContext","ApiContextProvider","provider","ApiRx","setApi","isReady","setIsReady","subscription","isApiReady","Injected","sendMessage","InjectedBase","detectEnvironment","navigator","userAgent","toLowerCase","chrome","runtime","browser","createSendMessageFromPopup","port","extension","connect","PORT_EXTENSION","handlers","idCounter","onMessage","addListener","handler","subscriber","reject","response","JSON","stringify","message","request","Promise","Date","now","postMessage","InjectedContext","InjectedContextProvider","setInjected","a","web3Enable","extensions","getSendMessage","catch","messaging","createAccountExternal","genesisHash","createAccountSuri","password","suri","createSeed","editAccount","exportAccount","forgetAccount","subscribeSigningRequests","cb","approveSignPassword","ProviderContext","ProviderContextProvider","lazy","setLazyProvider","setProvider","disconnect","start","then","client","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","done","apply","_coder","_eventemitter","_isConnected","_rpcClient","kusama_cc3","fromUrl","url","network","startClient","this","init","start_client","chainSpec","version","__classPrivateFieldSet","receiver","privateMap","has","TypeError","__classPrivateFieldGet","get","WasmProvider","light","EventEmitter","Coder","rpcClient","emit","free","sub","on","removeListener","method","params","encodeJson","debug","assert","rpcSubscribe","decodeResponse","parse","callback","rpcSend","send","_type","args","WeakMap","westend","TAB_WASM_PROVIDERS","description","node","source","transport","FALLBACK_PROVIDERS","WsProvider","toLazyProvider","startProvider","getProvidersFromInjected","listProviders","providers","entries","acc","lazyProvider","additionalSources","extensionProviders","isTabEnv","getAllProvidersForChain","chain","allProviders","filter","GREEN","RED","ChooseProvider","useLocalStorage","providerId","setProviderId","health","HealthContext","setAllProviders","setChain","allChains","Set","getAllChains","allProvidersForChain","getAllProviders","bestProvider","discoverChain","isSyncing","hasPeers","isNodeConnected","renderHealth","best","renderBlockNumber","compact","closeOnChange","options","toUpperCase","placeholder","simple","MenuTabs","pathname","useLocation","Link","to","startsWith","TopBar","ApiGate","STATUS_WARN","STATUS_ERROR","HealthGate","status","displayStatus","showLoading","SystemGate","isSystemReady","SystemContext","ContextGate","Consumer","assertIsDefined","val","msg","AddAccountStepMeta","goToNextStep","goToPreviousStep","setName","setPassword","setError","handleGoToNextStep","autoFocus","min","top","AddAccountStepMnemonic","mnemonic","setNewMnemonic","icon","randomlyPickFour","phraseArray","max","temp","randIndex","scratch","push","Math","floor","random","getRandomInts","first","second","third","fourth","AddAccountStepRewrite","setFirstWord","setSecondWord","setThirdWord","setFourthWord","Create","history","mnemonicGenerate","setMnemonic","setStep","setAddress","setRandomFourWords","keypair","naclKeypairFromSeed","mnemonicToSeed","encodeAddress","publicKey","generateAddressFromMnemonic","randomFour","renderStep","RestoreWithJson","_props","setInputPassword","setJsonString","RestoreWithPhrase","recoveryPhrase","setRecoveryPhrase","onSubmit","AddAccount","activeTab","location","path","component","AccountsOverviewCard","showDetails","setShowDetails","raised","window","confirm","prompt","exportedJson","element","document","href","download","click","AccountsOverview","labelPosition","Accounts","goToAccounts","render","routeProps","onClose","open","TxDetails","amount","recipient","sender","tip","txStatus","properties","tokenSymbol","unwrapOr","TxStatusText","TxForm","setAmount","setRecipient","setSender","setTip","accountsObj","option","isAddressValid","createType","Transfer","setTxStatus","input","pipe","tap","mapTo","validate","handleSubmit","web3FromAddress","injector","setSigner","signer","transfer","signAndSend","requests","Form","Routes","exact","from","Router","MemoryRouter","FullScreen","App","ReactDOM","getElementById","wasm","getAbsoluteUrl","relativeUrl","publicPath","__webpack_public_path__","protocol","host","heap","Array","getObject","idx","heap_next","takeObject","ret","dropObject","cachedTextDecoder","TextDecoder","ignoreBOM","fatal","decode","cachegetUint8Memory0","getUint8Memory0","buffer","memory","Uint8Array","getStringFromWasm0","ptr","len","subarray","addHeapObject","obj","WASM_VECTOR_LEN","cachedTextEncoder","TextEncoder","encodeString","encodeInto","arg","view","buf","encode","read","written","passStringToWasm0","malloc","realloc","mem","offset","charCodeAt","isLikeNone","x","cachegetInt32Memory0","getInt32Memory0","Int32Array","debugString","isArray","builtInMatches","exec","_","stack","makeMutClosure","arg0","arg1","dtor","f","state","cnt","real","__wbindgen_export_2","original","__wbg_adapter_24","_dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h313d1d43044a597b","__wbg_adapter_27","_dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h2da1313579f6012f","__wbg_adapter_30","arg2","_dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__he89103dd1482972e","stack_pointer","__wbg_adapter_33","_dyn_core__ops__function__FnMut___A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hca2c79b9bde34ba2","addBorrowedObject","__wbg_adapter_36","_dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h44997e42a2a65230","chain_spec","log_level","ptr0","__wbindgen_malloc","__wbindgen_realloc","len0","ptr1","len1","handleError","__wbindgen_exn_store","getArrayU8FromWasm0","cachegetUint32Memory0","passArrayJsValueToWasm0","array","Uint32Array","__wbg_adapter_184","arg3","wasm_bindgen__convert__closures__invoke2_mut__h48eace5a5a1d1747","Client","__wbg_client_free","rpc","client_rpcSend","client_rpcSubscribe","create","load","imports","Response","WebAssembly","instantiateStreaming","headers","warn","arrayBuffer","bytes","instantiate","instance","Instance","replace","wbg","__wbindgen_object_drop_ref","__wbindgen_cb_drop","__wbindgen_string_new","__wbg_client_new","__wrap","__wbindgen_cb_forget","__wbg_new_59cb74e423758ede","__wbg_stack_558ba5917b466edd","__wbg_error_4bb6c2a97407129a","__wbindgen_free","__wbindgen_object_clone_ref","__wbg_listenon_29b270c00f11bb1d","listen_on","__wbg_dial_ce540d0025a8c26c","dial","__wbg_read_91c0d30ec3d52352","__wbg_close_78c9b15ff92a3e07","close","__wbg_newaddrs_6532534ae49e2942","new_addrs","__wbg_newconnections_26d3027da3bc3d34","new_connections","__wbg_localaddr_2c3bc298a97f0d31","local_addr","__wbg_observedaddr_3bb9aac327c718a8","observed_addr","__wbg_connection_fc27a4cc12bbb95c","connection","__wbg_expiredaddrs_6df40054e2545c02","expired_addrs","__wbindgen_is_null","__wbg_write_c737a4dd2daa456c","write","__wbg_shutdown_737963eaf38872f4","shutdown","__wbg_websockettransport_16675675a626eccf","websocket_transport","__wbg_Window_f826a1dec163bacb","Window","__wbindgen_is_undefined","__wbg_WorkerGlobalScope_967d186155183d38","WorkerGlobalScope","__wbg_instanceof_Window_a633dbe0900c728a","__wbg_performance_cc98652048194dbe","performance","__wbg_indexedDB_786fa5cffcec3d70","indexedDB","__wbg_clearTimeout_0a1052783da2e81d","clearTimeout","__wbg_setTimeout_8a3a29e4f2326809","setTimeout","__wbg_debug_7020dcb48edf105b","__wbg_error_b23efba5bfb5cec5","__wbg_info_8ce99578d0b91a35","__wbg_log_c180b836187d3c94","__wbg_warn_942f927afebcc748","__wbg_target_7c8691623acab2b6","__wbg_value_ab7e0864921a0249","__wbg_key_98f9c3510a871aab","__wbg_continue_c5d6858486a49ae0","continue","__wbg_oncomplete_a472af4d68085f4e","oncomplete","__wbg_onerror_18d4baa796b3c83c","__wbg_objectStore_30c5fb22a544cdc0","objectStore","__wbg_length_96a4ad170ac120a3","__wbg_clearTimeout_ef9b4e7064304f19","__wbg_setTimeout_1bb7442307efefb2","__wbg_delete_32516d6d2da36e5b","delete","__wbg_openCursor_03070b344806930c","openCursor","__wbg_put_f3607afa489e09e5","put","__wbg_instanceof_IdbDatabase_56eba0d2b056531a","IDBDatabase","__wbg_version_e37fbc7822b8af91","__wbg_objectStoreNames_68bc3ddee96dca07","objectStoreNames","__wbg_close_bc5d600e55105ed4","__wbg_createObjectStore_7c0df7de88384a54","createObjectStore","__wbg_transaction_b00142afde019410","transaction","__wbg_transaction_961e4f1085d36649","__wbg_open_11fae9bba90577c8","__wbg_open_6998f972d161aa98","__wbg_onupgradeneeded_d8d555253ef9abd3","onupgradeneeded","__wbg_now_ce4a6a89baf241c9","__wbg_instanceof_IdbRequest_06f62bd63408aafb","IDBRequest","__wbg_result_f673e649c3ed4aa6","__wbg_onsuccess_63414f423ba8e36c","onsuccess","__wbg_next_c08bf57a239475c3","__wbg_done_e784c64062606540","__wbg_value_11f53ed6202a1367","__wbg_call_804d3ad7e8acd4d5","__wbg_new_ec28d6ba821801cb","__wbg_push_ffaa2df7422d3b4c","__wbg_byteLength_23cbcb86d9831911","byteLength","__wbg_instanceof_Error_38fe748d6a3e7f96","__wbg_message_2867dbc381d4281d","__wbg_name_0a313043456d3ac9","__wbg_newnoargs_ebdc90c3d1e4e55d","Function","__wbg_call_1ad0eb4a7ab279eb","__wbg_getTime_2101de8de4528431","getTime","__wbg_getTimezoneOffset_63759850d5e93deb","getTimezoneOffset","__wbg_new0_1d54bbc12959ee65","__wbg_now_baf1a029473d526d","__wbg_instanceof_Object_eff62166ff6be605","__wbg_toString_2a876371b7e4d365","__wbg_new_1bf1b0dbcaa9ee96","state0","__wbg_resolve_3e5970e9c931a3c2","__wbg_then_d797310661d9e275","__wbg_then_e37e0b9ef0995585","__wbg_globalThis_48a5e9494e623f26","globalThis","__wbg_self_25067cb019cade42","self","__wbg_window_9e80200b35aa30f8","__wbg_global_7583a634265a91fc","global","__wbg_buffer_f897a8d316863411","__wbg_newwithbyteoffsetandlength_284676320876299d","__wbg_length_b7dc6aed3ca09be1","__wbg_new_da17c07b1fbb4a8b","__wbg_set_4a8545284001c06f","__wbg_byteLength_5f1abb9d0f73f112","__wbg_self_1b7a39e3a92c949c","__wbg_require_604837428532a733","require","__wbg_crypto_968f1772287e2df0","crypto","__wbg_getRandomValues_a3d34b4fee3c2869","getRandomValues","__wbg_getRandomValues_f5e14ab7ac8e995d","__wbg_randomFillSync_d5bd2d655fdf256a","randomFillSync","__wbindgen_string_get","__wbindgen_debug_string","__wbindgen_throw","__wbindgen_memory","__wbindgen_closure_wrapper17381","__wbindgen_closure_wrapper9259","__wbindgen_closure_wrapper16720","__wbindgen_closure_wrapper9260","__wbindgen_closure_wrapper17661","Request","URL","fetch","__wbindgen_wasm_module","addr","err","ws","WebSocket","parsed","match","proto","decodeURIComponent","multiaddr_to_ws","read_queue","ev","onmessage","inject_blob","onclose","inject_eof","onopen","readyState","promise_when_ws_finished","bufferedAmount","check","queue","blob","addEventListener","readAsArrayBuffer","shift"],"mappings":"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","file":"static/js/main.a1e4a338.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1738;","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport 'tachyons/css/tachyons.min.css';\nimport './assets/fonts/Inter/inter.css';\nimport './assets/fonts/Roboto_Mono/roboto_mono.css';\nimport { createGlobalStyle } from 'styled-components';\nexport const GlobalStyle = createGlobalStyle `\n  html {\n    height: 100%;\n  }\n\n  body {\n    height: 100%;\n    margin: 0;\n    padding: 0;\n  }\n\n  #root {\n    height: 100%;\n  }\n\n  html, body, h1, .h1, h2, .h2, h3, .h3, h4, .h4, h5, .h5, h6, .h6, p, [type=\"text\"] {\n    font-family: 'Inter', 'Montseratt', 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif !important;\n  }\n  code, .code, th, button, button p, .menu .item, label, [type=\"number\"] {\n    font-family: 'Roboto Mono' !Important;\n  }\n  h2 {\n    font-weight: 500;\n    font-size: 1.4rem;\n  }\n\n  //TODO: dimmer component\n  .dimmer {\n    background-color: rgba(255,255,255,0.6) !important;\n    height: calc(100vh - 104px) !important;\n    transform: translateY(104px);\n    justify-content: flex-start !important;\n    padding-top: 0 !important;\n  }\n\n`;\n// ordered darkest to lightest\nexport const substrateLightTheme = {\n    black: '#222',\n    grey: '#888',\n    redOrange: '#ff3400',\n    coral: '#ff5d3e',\n    tangerine: '#f68a04',\n    orangeYellow: '#ffae00',\n    hotPink: '#ff008d',\n    electricPurple: '#a030ec',\n    purple: '#8479f3',\n    darkBlue: '#5c53fc',\n    lightBlue2: '#51a0ec',\n    lightBlue1: '#53a0fd',\n    neonBlue: '#0ed2f7',\n    robinEggBlue: '#86fff9',\n    eggShell: '#f2f2f2',\n    white: '#ffffff',\n};\nexport const polkadotOfficialTheme = {\n    typography: {\n        monospace: \"'Roboto Mono' !important\",\n    },\n    black: '#1E1E1E',\n    green: '#79F676',\n    shadow: 'rgba(210, 210, 210, 0.6)',\n    grey: '#B5AEAE',\n    hotPink: '#E6007A',\n    signal: 'red',\n    lightBlue2: '#51a0ec',\n    lightBlue1: '#53a0fd',\n    neonBlue: '#0ed2f7',\n    maroon: '#670D35',\n    eggShell: '#f2f2f2',\n    white: '#ffffff',\n};\nexport const theme = Object.assign(Object.assign({}, substrateLightTheme), polkadotOfficialTheme);\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport SUIIcon from 'semantic-ui-react/dist/commonjs/elements/Icon/Icon';\nimport styled from 'styled-components';\nimport { substrateLightTheme } from './globalStyle';\nexport const Icon = styled(SUIIcon) `\n  &&& {\n    color: ${substrateLightTheme.neonBlue}\n    )\n  }`;\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nexport const DEFAULT_TOKEN_SYMBOL = 'UNIT';\n/**\n * Mapping between font sizes and their CSS values.\n */\n// TODO better naming & from figma\nexport const FONT_SIZES = {\n    small: '0.9rem',\n    medium: '1rem',\n    button: '1.3rem',\n    large: '1.5rem',\n    big: '1.75rem',\n};\nexport const FONT_WEIGHTS = {\n    lightest: 100,\n    extraLight: 200,\n    light: 300,\n    regular: 400,\n    bold: 500,\n    extraBold: 600,\n    boldest: 700,\n};\n/**\n * Mapping between margin/padding sizes and their CSS values.\n */\nexport const MARGIN_SIZES = {\n    small: '0.5rem',\n    medium: '1rem',\n    large: '1.5rem',\n    big: '2rem',\n    huge: '3.5rem',\n};\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport SUIContainer from 'semantic-ui-react/dist/commonjs/elements/Container';\nimport styled from 'styled-components';\nimport { FONT_SIZES, FONT_WEIGHTS, MARGIN_SIZES } from './constants';\nimport { polkadotOfficialTheme } from './globalStyle';\nexport const ContainerFlex = styled(SUIContainer) `\n  display: flex !important;\n`;\nexport const Container = styled(SUIContainer) `\n  padding-top: ${MARGIN_SIZES.large};\n  padding-bottom: ${MARGIN_SIZES.large};\n`;\nexport const BoldText = styled.b `\n  color: ${polkadotOfficialTheme.black};\n`;\nexport const FadedText = styled.p `\n  color: ${polkadotOfficialTheme.black};\n  font-weight: ${FONT_WEIGHTS.light};\n  opacity: 0.5;\n  text-align: left;\n`;\nexport const FlexItem = styled.div `\n  flex: ${(props) => props.flex || 1};\n`;\nexport const ErrorText = styled.p `\n  color: red;\n  text-align: center;\n  font-weight: 500;\n`;\nexport const SuccessText = styled.p `\n  color: green;\n  text-align: center;\n  font-weight: 500;\n`;\nexport const WithSpace = styled.div `\n  margin: ${MARGIN_SIZES.medium} auto;\n`;\nexport const WithSpaceAround = styled.div `\n  margin: ${(props) => MARGIN_SIZES[props.margin || 'medium']};\n  padding: ${(props) => MARGIN_SIZES[props.padding || 'medium']};\n`;\nexport const WithSpaceBetween = styled.div `\n  display: flex ${(props) => props.flexDirection || 'row'};\n  justify-content: space-between;\n  align-items: space-between;\n`;\nexport const WithPadding = styled.div `\n  padding: ${MARGIN_SIZES.medium} auto;\n`;\n// TODO: props from figma\nexport const Header = styled.h2 `\n  font-weight: ${FONT_WEIGHTS.extraBold};\n  font-size: ${FONT_SIZES.big};\n  margin: ${(props) => props.margin ? MARGIN_SIZES[props.margin] : `0`};\n  text-align: ${(props) => props.textAlign || 'left'};\n`;\nexport const DynamicSizeText = styled.p `\n  font-size: ${(props) => FONT_SIZES[props.fontSize || 'medium']};\n  font-weight: ${(props) => props.fontWeight || 'light'};\n  margin: 0 0;\n  text-align: center;\n`;\nexport const RefreshButton = styled.button `\n  border: none;\n  background-color: inherit;\n  color: ${polkadotOfficialTheme.hotPink};\n\n  :hover {\n    cursor: pointer;\n    color: ${polkadotOfficialTheme.maroon};\n  }\n`;\nexport const StyledNavLink = styled.span `\n  background: none;\n  border: none;\n  color: ${(props) => props.inverted\n    ? polkadotOfficialTheme.white\n    : polkadotOfficialTheme.hotPink};\n  font-size: ${FONT_SIZES.medium};\n  font-weight: 300;\n\n  :hover {\n    cursor: pointer;\n  }\n`;\nexport const StyledLinkButton = styled.button `\n  align-items: space-between;\n  background: none;\n  border: none;\n  color: ${(props) => props.color || polkadotOfficialTheme.lightBlue1};\n  display: flex;\n  font-size: ${FONT_SIZES.medium};\n  font-weight: 300;\n  justify-content: space-between;\n\n  :hover {\n    cursor: pointer;\n  }\n`;\nexport const StyledNavButton = styled.button `\n  position: relative;\n  background-color: ${polkadotOfficialTheme.black};\n  border: none;\n  border-radius: 9999px;\n  color: ${polkadotOfficialTheme.white};\n  font-size: ${FONT_SIZES.large};\n  outline: none;\n  transition: background-color 0.3s;\n\n  ${(props) => props.negative\n    ? `\n      background-color: ${polkadotOfficialTheme.white};\n      color: ${polkadotOfficialTheme.signal}`\n    : ''};\n\n  :hover {\n    opacity: 0.9;\n    cursor: ${(props) => (props.disabled ? 'not-allowed' : 'pointer')};\n  }\n  & p {\n    padding: 0.5em 2.5em;\n  }\n`;\nexport const VoteNayButton = styled.button `\n  background-image: linear-gradient(\n    107deg,\n    ${polkadotOfficialTheme.hotPink},\n    ${polkadotOfficialTheme.hotPink}\n  );\n  border: none;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px 0 rgba(${polkadotOfficialTheme.black}, 0.3);\n  color: ${polkadotOfficialTheme.white};\n  fontsize: ${FONT_SIZES.large};\n  height: 21px;\n  width: 51px;\n\n  :hover {\n    cursor: pointer;\n  }\n`;\nexport const VoteYayButton = styled.button `\n  background-image: linear-gradient(\n    107deg,\n    ${polkadotOfficialTheme.lightBlue1},\n    ${polkadotOfficialTheme.lightBlue2}\n  );\n  border: none;\n  border-radius: 8px;\n  box-shadow: 0 4px 6px 0 rgba(${polkadotOfficialTheme.black}, 0.3);\n  color: ${polkadotOfficialTheme.white};\n  fontsize: ${FONT_SIZES.large};\n  height: 21px;\n  width: 51px;\n\n  :hover {\n    cursor: pointer;\n  }\n`;\nexport const Stacked = styled.div `\n  align-items: ${(props) => props.alignItems || ''};\n  display: flex;\n  flex-direction: column;\n  justify-content: ${(props) => props.justifyContent || 'center'};\n`;\nexport const StackedHorizontal = styled.div `\n  align-items: ${(props) => props.alignItems || 'center'};\n  display: flex;\n  flex-direction: row;\n  justify-content: ${(props) => props.justifyContent || ''};\n\n  @media (max-width: ${(props) => props.wrapAt || '0'}em) {\n    flex-wrap: wrap;\n  }\n`;\nexport const SubHeader = styled.h3 `\n  color: ${polkadotOfficialTheme.black};\n  font-weight: 500;\n  font-size: ${FONT_SIZES.medium};\n  margin: ${(props) => props.margin ? '1rem auto 0.3rem auto' : '0 0'};\n  text-align: ${(props) => props.textAlign || 'left'};\n`;\nexport const InlineSubHeader = styled(SubHeader) `\n  display: inline;\n`;\nexport const WrapperDiv = styled.div `\n  margin: ${(props) => props.margin || 'auto'};\n  padding: ${(props) => props.padding || '1rem'};\n  width: ${(props) => props.width || 'auto'};\n  height: ${(props) => props.height || '100%'};\n`;\n/* TODO compomnent with actions */\nexport const FramedBlock = styled.div `\n  padding: 2rem;\n  position: relative;\n  border-style: solid;\n  border-width: 1px;\n`;\nexport const BlackBlock = styled.div `\n  background-color: ${polkadotOfficialTheme.black};\n  color: ${polkadotOfficialTheme.white};\n`;\nexport const NodesBlock = styled.span `\n  width: ${(props) => (props.fluid ? '100%' : '')};\n  position: relative;\n  color: inherit important!;\n`;\nexport const NodeSelector = styled.div `\n  width: ${(props) => (props.fluid ? '100%' : '')};\n`;\nexport const NodesConnector = styled.div `\n  width: ${(props) => (props.fluid ? '50%' : '100px')};\n  transform: translateY(-50%);\n  min-width: 2rem;\n`;\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport React, { useState } from 'react';\nimport CopyToClipboard from 'react-copy-to-clipboard';\nimport styled from 'styled-components';\nimport { Icon } from './Icon';\nimport { Stacked } from './Shared.styles';\nconst StyledCopyButton = styled.button `\n  border: none;\n  background-color: inherit;\n  color: ${(props) => props.theme.lightBlue1};\n\n  :hover {\n    cursor: pointer;\n    color: ${(props) => props.theme.darkBlue};\n  }\n`;\nexport function CopyButton(props) {\n    const { value } = props;\n    const [copied, setCopied] = useState(false);\n    const handleCopied = () => {\n        setCopied(true);\n        setTimeout(() => setCopied(false), 1000);\n    };\n    return (React.createElement(CopyToClipboard, { text: value || '', onCopy: handleCopied },\n        React.createElement(StyledCopyButton, null,\n            React.createElement(Stacked, null,\n                React.createElement(Icon, { name: copied ? 'check' : 'copy' }),\n                copied && React.createElement(\"small\", null, \" Copied! \")))));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport React from 'react';\nimport SUISegment from 'semantic-ui-react/dist/commonjs/elements/Segment';\nimport styled from 'styled-components';\nimport { theme } from './globalStyle';\nconst StyledFlexSegment = styled(SUISegment) `\n  &&& {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: ${(props) => props.height || '3rem'};\n    width: ${(props) => props.width || '80%'};\n    margin: 0.3rem auto;\n    box-shadow: 0 2px 2px 0 rgba(${theme.black}, 0.3);\n    background-color: ${(props) => props.backgroundColor || theme.white};\n  }\n`;\nexport function FlexSegment(props) {\n    return React.createElement(StyledFlexSegment, Object.assign({}, props));\n}\nFlexSegment.Group = SUISegment.Group;\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport React from 'react';\nimport { Message as SUIMessage, } from 'semantic-ui-react';\nimport styled from 'styled-components';\nconst colors = {\n    error: (props) => [\n        props.theme.redOrange,\n        props.theme.coral,\n    ],\n    info: (props) => [\n        props.theme.robinEggBlue,\n        props.theme.neonBlue,\n    ],\n    success: (props) => [\n        props.theme.lightBlue1,\n        props.theme.purple,\n    ],\n    warning: (props) => [\n        props.theme.orangeYellow,\n        props.theme.tangerine,\n    ],\n};\n/**\n * Alert Bar CSS Gradients have 2 colors, get the color at index `index`.\n * @param index - The index of the gradient color.\n */\nfunction gradientColor(index) {\n    return function (props) {\n        // Check if props.{error, info, warning} is set.\n        const alertType = ['error', 'info', 'warning'].find((type) => props[type]);\n        if (alertType) {\n            return colors[alertType](props)[index];\n        }\n        // By default we return the success gradient\n        return colors.success(props)[index];\n    };\n}\nconst StyledAlert = styled(SUIMessage) `\n  &&& {\n    background-image: linear-gradient(\n      107deg,\n      ${gradientColor(0)},\n      ${gradientColor(1)} 71%\n    );\n    bottom: 0;\n    left: 0;\n    box-shadow: none;\n    color: ${(props) => props.theme.white};\n    padding-bottom: 2rem;\n    padding-left: 4rem;\n    padding-right: 6rem;\n    position: fixed;\n    width: 100%;\n  }\n`;\nexport function Alert(props) {\n    return React.createElement(StyledAlert, Object.assign({}, props));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport { formatBalance, formatNumber } from '@polkadot/util';\nimport React from 'react';\nimport Loader from 'semantic-ui-react/dist/commonjs/elements/Loader';\nimport { Icon, WrapperDiv } from './index';\nimport { DynamicSizeText, FadedText, StackedHorizontal, StyledLinkButton, } from './Shared.styles';\nconst defaultProps = {\n    detailed: false,\n    fontSize: 'large',\n    orientation: 'vertical',\n};\n// FIXME: https://github.com/paritytech/substrate-light-ui/issues/471\nexport function BalanceDisplay(props = defaultProps) {\n    const { allBalances, allStaking, detailed, fontSize, fontWeight, handleRedeem, } = props;\n    const renderRedeemButton = () => {\n        return allStaking && allStaking.controllerId ? (React.createElement(StyledLinkButton, { onClick: () => allStaking &&\n                allStaking.controllerId &&\n                handleRedeem &&\n                handleRedeem(allStaking.controllerId.toString()) },\n            React.createElement(Icon, { name: 'lock' }),\n            \"Redeem Funds\")) : null;\n    };\n    const renderUnlocking = () => {\n        return allStaking && allStaking.unlocking ? (React.createElement(React.Fragment, null, allStaking.unlocking.map(({ remainingEras, value }, index) => (React.createElement(\"div\", { key: index },\n            React.createElement(FadedText, null,\n                \"Unbonded Amount: \",\n                formatBalance(value)),\n            React.createElement(FadedText, null,\n                \" Eras remaining: \",\n                remainingEras.toNumber())))))) : null;\n    };\n    const renderDetailedBalances = () => {\n        if (!allBalances) {\n            return React.createElement(React.Fragment, null);\n        }\n        const { availableBalance, lockedBalance, reservedBalance } = allBalances;\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"hr\", null),\n            React.createElement(WrapperDiv, { width: '90%', margin: '0', padding: '0' },\n                React.createElement(StackedHorizontal, { justifyContent: 'space-between' },\n                    React.createElement(\"b\", null, \"Available:\"),\n                    formatBalance(availableBalance)),\n                React.createElement(StackedHorizontal, { justifyContent: 'space-between' }, allStaking && allStaking.redeemable && (React.createElement(React.Fragment, null,\n                    React.createElement(\"b\", null, \"Redeemable:\"),\n                    formatBalance(allStaking.redeemable),\n                    allStaking.redeemable.gtn(0) && renderRedeemButton()))),\n                React.createElement(StackedHorizontal, { justifyContent: 'space-between' },\n                    React.createElement(\"b\", null, \"Reserved:\"),\n                    reservedBalance && (React.createElement(FadedText, null, formatBalance(reservedBalance)))),\n                React.createElement(StackedHorizontal, { justifyContent: 'space-between' },\n                    React.createElement(\"b\", null, \"Locked:\"),\n                    lockedBalance && formatBalance(lockedBalance)),\n                renderUnlocking())));\n    };\n    return (React.createElement(React.Fragment, null,\n        allBalances ? (React.createElement(StackedHorizontal, { justifyContent: 'space-around', alignItems: 'stretch' },\n            React.createElement(DynamicSizeText, { fontSize: fontSize, fontWeight: fontWeight },\n                React.createElement(\"strong\", null, \"Total Balance:\"),\n                ' ',\n                allBalances.freeBalance && formatBalance(allBalances.freeBalance)),\n            React.createElement(FadedText, null,\n                \"Transactions: \",\n                formatNumber(allBalances.accountNonce),\n                ' '))) : (React.createElement(Loader, { active: true, inline: true })),\n        detailed && allBalances && renderDetailedBalances()));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport { Button as SUIButton } from 'semantic-ui-react';\nimport styled from 'styled-components';\nexport const Button = styled(SUIButton) ``;\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport React from 'react';\nimport SUICard from 'semantic-ui-react/dist/commonjs/views/Card';\nimport styled from 'styled-components';\nconst StyledCard = styled(SUICard) `\n  &&& {\n    background-color: #ffffff;\n    border-radius: 2px;\n    box-shadow: 0 4px 5px 1px rgba(0, 0, 0, 0.3);\n    height: ${(props) => props.height || '357px'};\n    min-height: ${(props) => props.minHeight || '100%'};\n    width: ${(props) => props.width || '100%'};\n    overflow: ${(props) => props.overflow || 'none'};\n  }\n`;\nexport function Card(props) {\n    return React.createElement(StyledCard, Object.assign({}, props));\n}\nCard.Content = SUICard.Content;\nCard.Description = SUICard.Description;\nCard.Group = SUICard.Group;\nCard.Header = SUICard.Header;\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport React from 'react';\nimport styled from 'styled-components';\nexport function Circle(props) {\n    const { fill, label, radius = 20, withShadow = false, wrapClass } = props;\n    const StyledCircle = styled.span `\n    height: ${radius}px;\n    width: ${radius}px;\n    background-color: ${fill};\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-align: center;\n    vertical-align: center;\n    box-shadow: ${withShadow\n        ? '0 6px 6px 0 rgba(0, 0, 0, 0.24), 0 0 6px 0 rgba(0, 0, 0, 0.12)'\n        : ''};\n  `;\n    const WhiteText = styled.p `\n    color: #ffffff;\n  `;\n    return (React.createElement(\"div\", { className: wrapClass },\n        React.createElement(StyledCircle, null,\n            React.createElement(WhiteText, null, label))));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport React from 'react';\nimport { NodesBlock, NodesConnector, NodeSelector } from './Shared.styles';\nconst defaultProps = {\n    nodesClassName: 'flex ba br2 pv2 ph3 b--silver',\n    connectorClassName: 'bb b--silver',\n};\nexport function ConnectedNodes(props = defaultProps) {\n    const { children, fluid, nodesClassName, connectorClassName, className = 'flex items-center', } = props;\n    return (React.createElement(NodesBlock, { fluid: fluid, className: className }, React.Children.map(children, (child, i) => {\n        return (React.createElement(React.Fragment, null,\n            i !== 0 && (React.createElement(NodesConnector, { className: connectorClassName\n                    ? connectorClassName\n                    : defaultProps.connectorClassName, fluid: fluid })),\n            React.createElement(NodeSelector, { className: nodesClassName ? nodesClassName : defaultProps.nodesClassName, fluid: fluid }, child)));\n    })));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { Dropdown as SUIDropdown, } from 'semantic-ui-react';\nimport styled from 'styled-components';\nconst DropdownDark = styled(SUIDropdown) `\n  .text {\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n  &&&.dropdown.item .menu {\n    background-color: #1e1e1e;\n    border-color: black;\n    border-top: transparent;\n    margin-top: 1px;\n\n    > .item {\n      color: white !important;\n      font-weight: 300 !important;\n\n      &.selected {\n        font-weight: 900 !important;\n      }\n      &:hover {\n        background: rgb(61, 62, 63) !important;\n      }\n    }\n  }\n`;\nexport function Dropdown(props) {\n    const { theme = 'dark' } = props, rest = __rest(props, [\"theme\"]);\n    return theme === 'dark' ? React.createElement(DropdownDark, Object.assign({}, rest)) : React.createElement(Dropdown, Object.assign({}, rest));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport React from 'react';\nimport SUIButton from 'semantic-ui-react/dist/commonjs/elements/Button';\nimport styled from 'styled-components';\nimport { polkadotOfficialTheme } from './globalStyle';\nimport { Icon } from './Icon';\nconst SUIFab = styled(SUIButton) `\n  &&& {\n    background-color: ${polkadotOfficialTheme.signal}\n    display: flex;\n    justify-content: center;\n    padding: 0;\n\n    color: white;\n    height: ${(props) => props.height || '4rem'};\n    width: ${(props) => props.width || '4rem'};\n    border-radius: 16px;\n    box-shadow: 0 8px 12px ${polkadotOfficialTheme.shadow};\n    \n    position: fixed;\n    bottom: 2rem;\n    right: 2rem;\n\n    .icon {\n      opacity: 1;\n      margin: 0 !important;\n    }\n  }\n`;\nexport function Fab(props) {\n    return (React.createElement(SUIFab, Object.assign({}, props), props.type === 'add' ? (React.createElement(Icon, { name: 'add', size: 'large' })) : (React.createElement(Icon, { name: 'send', size: 'large' }))));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport SUIInput from 'semantic-ui-react/dist/commonjs/elements/Input';\nimport styled from 'styled-components';\nimport { FONT_SIZES } from './constants';\nimport { polkadotOfficialTheme } from './globalStyle';\nconst styles = {\n    inputFieldText: `\n    padding: 0.65em 0.7em;\n    background: ${polkadotOfficialTheme.eggShell};\n    line-height: 1.2;\n  `,\n    inputFieldNumber: `\n    margin-top: 0.25rem;\n    padding: 0.65em 0.7em;\n    padding-left: 1rem;\n    border-left: 2px solid ${polkadotOfficialTheme.signal};\n    font-weight: 600;\n    line-height: 1.2;\n  `,\n};\nconst StyledFakeInput = styled.span `\n  display: inline-block;\n  ${styles.inputFieldText}\n`;\nconst StyledInput = styled(SUIInput) `\n  &&& {\n    > input {\n      border: none;\n      border-radius: 0;\n      &[type='text'],\n      &[type='password'] {\n        ${(props) => props.borderless ? '' : 'border-bottom: 1px solid black;'};\n        ${styles.inputFieldText}\n      }\n      &[type='number'] {\n        ${styles.inputFieldNumber}\n      }\n    }\n    &.labeled .label {\n      font-weight: 300;\n      color: black;\n      background: ${polkadotOfficialTheme.eggShell};\n    }\n  }\n`;\nconst StyledLabel = styled.label `\n  font-size: ${FONT_SIZES.small};\n  margin-right: 0.5em;\n  line-height: 1.5em;\n`;\nexport function Input(props) {\n    const { textLabel, wrapClass = 'mb3', value, fake } = props, rest = __rest(props, [\"textLabel\", \"wrapClass\", \"value\", \"fake\"]);\n    return (React.createElement(\"div\", { className: wrapClass },\n        textLabel && React.createElement(StyledLabel, null, textLabel),\n        fake ? (React.createElement(StyledFakeInput, null, value)) : (React.createElement(StyledInput, Object.assign({ value: value }, rest)))));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport styled from 'styled-components';\nimport { MARGIN_SIZES } from './constants';\n/**\n * Mapping between <Margin />'s size and its CSS value.\n */\nfunction sizeValues(size) {\n    switch (size) {\n        case true:\n            return MARGIN_SIZES.medium;\n        case 'small':\n        case 'medium':\n        case 'large':\n        case 'big':\n        case 'huge':\n            return MARGIN_SIZES[size];\n        default:\n            return '0';\n    }\n}\n/**\n * Get value from prop.\n */\nconst getMarginValue = (position) => (props) => sizeValues(props[position]);\nexport const Margin = styled.div `\n  margin-bottom: ${getMarginValue('bottom')}\n  margin-left: ${getMarginValue('left')}\n  margin-right: ${getMarginValue('right')}\n  margin-top: ${getMarginValue('top')}\n`;\n","// Copyright 2018-2020 @paritytech/Lichen authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nexport function isInstanceOfSingleAddress(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nobject) {\n    // very loose check\n    return 'json' in object && 'option' in object;\n}\nexport function isInstanceOfInjectedExtension(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nobject) {\n    return 'meta' in object && 'address' in object;\n}\n","// Copyright 2018-2024 @paritytech/lichen authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport IdentityIcon from '@polkadot/react-identicon';\nimport { decodeAddress } from '@polkadot/util-crypto';\nimport React from 'react';\nimport SUIDropdown from 'semantic-ui-react/dist/commonjs/modules/Dropdown';\nimport styled from 'styled-components';\nimport { MARGIN_SIZES } from './constants';\nimport { polkadotOfficialTheme } from './globalStyle';\nimport { Margin } from './Margin';\nimport { isInstanceOfInjectedExtension } from './util/checkInstanceOf';\n/**\n * From the keyring, retrieve the `SingleAddress` from a search target `address` string\n */\nfunction getKeyringAddressFromString(allAccounts, allAddresses, address) {\n    return allAccounts[address] || allAddresses[address];\n}\n/**\n * From the extension, retrieve the InjectedAccountWithMeta from a search target `address` string\n */\nfunction getExtensionAddressFromString(allAccounts, address) {\n    return (allAccounts &&\n        allAccounts.find((injectedAccount) => {\n            // match public keys\n            const current = decodeAddress(injectedAccount.address);\n            const target = decodeAddress(address);\n            let isEqual = true;\n            for (let i = 0; i < current.length; i++) {\n                if (current[i] !== target[i]) {\n                    isEqual = false;\n                    break;\n                }\n            }\n            return isEqual ? injectedAccount : undefined;\n        }));\n}\nconst Dropdown = styled(SUIDropdown) `\n  &&& {\n    border: none;\n    border-bottom: 1px solid black;\n    border-radius: 0;\n    background: ${polkadotOfficialTheme.eggShell};\n    > .text,\n    .item {\n      display: flex;\n      align-items: center;\n    }\n    &.active.dropdown {\n      border-color: ${polkadotOfficialTheme.black};\n      border-radius: 0 !important;\n      .menu {\n        border-color: ${polkadotOfficialTheme.eggShell};\n        margin-top: 1px;\n      }\n    }\n  }\n`;\nconst DropdownItemText = styled.span `\n  margin-left: ${MARGIN_SIZES.small};\n`;\nconst DropdownWrapper = styled.div `\n  display: flex;\n  flex-direction: row;\n`;\nfunction renderDropdownItemText(account) {\n    if (isInstanceOfInjectedExtension(account)) {\n        return (React.createElement(DropdownItemText, null,\n            React.createElement(\"strong\", null, account.meta.name),\n            React.createElement(Margin, { as: 'span', right: 'small' }),\n            \"(\",\n            account.address.substr(0, 8),\n            \"..\",\n            account.address.slice(-8),\n            \")\"));\n    }\n    else {\n        return (React.createElement(DropdownItemText, null,\n            React.createElement(\"strong\", null, account.json.meta.name),\n            React.createElement(Margin, { as: 'span', right: 'small' }),\n            \"(\",\n            account.json.address.substr(0, 8),\n            \"..\",\n            account.json.address.slice(-8),\n            \")\"));\n    }\n}\nexport function InputAddress(props) {\n    const { accounts = {}, addresses = {}, fromKeyring = true, // default to using keyring\n    onChangeAddress, types = ['accounts'], textLabel, value, wrapClass = 'mb3' } = props, rest = __rest(props, [\"accounts\", \"addresses\", \"fromKeyring\", \"onChangeAddress\", \"types\", \"textLabel\", \"value\", \"wrapClass\"]);\n    const currentAddress = fromKeyring\n        ? getKeyringAddressFromString(accounts, addresses, value)\n        : getExtensionAddressFromString(accounts, value);\n    function handleChange(_event, data) {\n        if (data.value && onChangeAddress) {\n            onChangeAddress(data.value.toString());\n        }\n    }\n    function renderDropdownItem(account) {\n        if (isInstanceOfInjectedExtension(account)) {\n            return (React.createElement(Dropdown.Item, { image: React.createElement(IdentityIcon, { value: account.address, size: 24 }), key: account.address, onClick: handleChange, value: account.address, text: renderDropdownItemText(account) }));\n        }\n        else {\n            return (React.createElement(Dropdown.Item, { image: React.createElement(IdentityIcon, { value: account.json.address, size: 24 }), key: account.json.address, onClick: handleChange, value: account.json.address, text: renderDropdownItemText(account) }));\n        }\n    }\n    return (React.createElement(\"div\", { className: wrapClass },\n        textLabel && React.createElement(\"label\", null, textLabel),\n        React.createElement(DropdownWrapper, null,\n            React.createElement(Dropdown, Object.assign({ fluid: true, selection: true, labeled: true, text: currentAddress ? (React.createElement(React.Fragment, null,\n                    React.createElement(IdentityIcon, { value: value, size: 24 }),\n                    renderDropdownItemText(currentAddress))) : ('Please select...'), value: value }, rest),\n                React.createElement(Dropdown.Menu, null,\n                    types.includes('accounts') && Object.keys(accounts).length > 0 && (React.createElement(Dropdown.Header, null, \"My accounts\")),\n                    types.includes('accounts') &&\n                        Object.values(accounts).map(renderDropdownItem),\n                    types.includes('addresses') &&\n                        Object.keys(addresses).length > 0 && (React.createElement(Dropdown.Header, null, \"My addresses\")),\n                    types.includes('addresses') &&\n                        Object.values(addresses).map(renderDropdownItem))))));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport React, { useCallback } from 'react';\nimport { useDropzone } from 'react-dropzone';\nimport styled from 'styled-components';\nconst defaultAccept = ['application/json, text/plain'].join(',');\nconst getColor = (props) => {\n    if (props.isDragAccept) {\n        return '#00e676';\n    }\n    if (props.isDragReject) {\n        return '#ff1744';\n    }\n    if (props.isDragActive) {\n        return '#2196f3';\n    }\n    return '#eeeeee';\n};\nconst Container = styled.div `\n  align-items: center;\n  border-width: 2px;\n  border-radius: 2px;\n  border-color: ${(props) => getColor(props)};\n  border-style: dashed;\n  background-color: #fafafa;\n  color: #bdbdbd;\n  display: flex;\n  flex: 1;\n  flex-direction: column;\n  outline: none;\n  padding: 100px;\n  transition: border 0.24s ease-in-out;\n`;\nexport function InputFile(props) {\n    const onDrop = useCallback((acceptedFiles) => {\n        const reader = new FileReader();\n        reader.onabort = () => console.log('file reading was aborted');\n        reader.onerror = () => console.log('file reading has failed');\n        reader.onload = () => {\n            props.onChange && props.onChange(reader.result);\n        };\n        acceptedFiles.forEach((file) => reader.readAsBinaryString(file));\n    }, [props]);\n    const { getRootProps, getInputProps, isDragActive, isDragAccept, isDragReject, } = useDropzone({\n        accept: defaultAccept,\n        onDrop,\n    });\n    return (React.createElement(\"div\", { className: 'container' },\n        React.createElement(Container, Object.assign({}, getRootProps({ isDragActive, isDragAccept, isDragReject })),\n            React.createElement(\"input\", Object.assign({}, getInputProps())),\n            React.createElement(\"p\", null, \"Drag 'n' drop some files here, or click to select files\"))));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { Loader } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport { Stacked } from './Shared.styles';\n// Stretch vertically, assuming parent is flex, and invert colors\nconst Inverted = styled.div `\n  background-color: black;\n  color: white;\n  display: flex;\n  flex-grow: 1;\n  justify-content: center;\n  opacity: 0.5;\n`;\nexport function Loading(props) {\n    const { active, children, inline, loadingText } = props, rest = __rest(props, [\"active\", \"children\", \"inline\", \"loadingText\"]);\n    return (React.createElement(React.Fragment, null,\n        active && (React.createElement(Inverted, Object.assign({}, rest),\n            React.createElement(Stacked, null,\n                React.createElement(Loader, { active: true, inline: inline }),\n                React.createElement(\"p\", null, loadingText)))),\n        children));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport SUIMenu from 'semantic-ui-react/dist/commonjs/collections/Menu/Menu';\nimport SUIDivider from 'semantic-ui-react/dist/commonjs/elements/Divider/Divider';\nimport styled from 'styled-components';\nimport { FONT_WEIGHTS } from './constants';\nimport { polkadotOfficialTheme } from './globalStyle';\nconst StyleTab = {\n    shadow: `\n    box-shadow: inset 0 -12px 12px -10px rgba(0, 0, 0, 0.25);\n  `,\n    menu: `\n    min-height: 0;\n    border: none;\n    margin-bottom: 0;\n  `,\n    item: `\n    border-radius: 0;\n    &:hover {\n      cursor: pointer;\n    }\n    &.active {\n      background: ${polkadotOfficialTheme.black};\n      color: ${polkadotOfficialTheme.white};\n      &:hover {\n        background: ${polkadotOfficialTheme.black};\n      }\n    }\n    &:not(.active):hover {\n      color: ${polkadotOfficialTheme.signal};\n    }\n  `,\n};\nconst StyledMenu = styled(SUIMenu) `\n  &&& {\n    ${(props) => (props.tabs ? StyleTab.menu : '')};\n    ${(props) => (props.shadow ? StyleTab.shadow : 'box-shadow: none')};\n    &.large .item {\n      font-size: 1rem;\n      height: 48px;\n    }\n    .item {\n      ${(props) => (props.tabs ? StyleTab.item : '')};\n    }\n    &.text .item {\n      color: ${polkadotOfficialTheme.black};\n      &.active {\n        color: ${polkadotOfficialTheme.signal};\n        font-weight: ${FONT_WEIGHTS.bold};\n      }\n    }\n  }\n  box-shadow: 0 0 0 ${polkadotOfficialTheme.white};\n`;\nexport function Menu(props) {\n    const { shadow = true, wrapClass = 'w-100' } = props, rest = __rest(props, [\"shadow\", \"wrapClass\"]);\n    return (React.createElement(\"div\", { className: wrapClass },\n        React.createElement(StyledMenu, Object.assign({ shadow: shadow }, rest))));\n}\nMenu.Divider = SUIDivider;\nMenu.Item = SUIMenu.Item;\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport React from 'react';\nimport { Input } from './Input';\nimport { WrapperDiv } from './Shared.styles';\nexport function MnemonicPhraseList(props) {\n    const phrase = props.phrase.split(' ');\n    return (React.createElement(WrapperDiv, { padding: '0' }, phrase.map((word, i) => {\n        return (React.createElement(Input, { borderless: true, fake: true, key: word, textLabel: i + 1, value: word, wrapClass: 'code red inline-flex items-center mr3 mb3' }));\n    })));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport React from 'react';\nimport { Input } from './index';\nexport function MnemonicRewriteParts(props) {\n    const { firstWord, secondWord, thirdWord, fourthWord, randomFourWords, handleSetFirstWord, handleSetSecondWord, handleSetThirdWord, handleSetFourthWord, } = props;\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Input, { textLabel: randomFourWords[0].position, borderless: true, onChange: handleSetFirstWord, value: firstWord, wrapClass: 'code red items-center mr3 mb3' }),\n        React.createElement(Input, { textLabel: randomFourWords[1].position, borderless: true, onChange: handleSetSecondWord, value: secondWord, wrapClass: 'code red items-center mr3 mb3' }),\n        React.createElement(Input, { textLabel: randomFourWords[2].position, borderless: true, onChange: handleSetThirdWord, value: thirdWord, wrapClass: 'code red items-center mr3 mb3' }),\n        React.createElement(Input, { textLabel: randomFourWords[3].position, borderless: true, onChange: handleSetFourthWord, value: fourthWord, wrapClass: 'code red items-center mr3 mb3' })));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport React from 'react';\nimport SUIModal from 'semantic-ui-react/dist/commonjs/modules/Modal/Modal';\nimport styled from 'styled-components';\nimport { FadedText, SubHeader } from './Shared.styles';\nconst StyledModal = styled(SUIModal) `\n  &&& {\n    position: ${(props) => props.position || 'relative'};\n    width: 95%;\n    bottom: ${(props) => props.bottom || undefined};\n    right: ${(props) => props.right || undefined};\n    margin-top: 0 !important;\n    max-width: 750px;\n    margin: 0 auto;\n    padding: 1rem 3rem 2rem;\n    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);\n  }\n`;\nconst StyledContent = styled(SUIModal.Content) `\n  &&& {\n    padding-top: 1rem;\n  }\n`;\nconst StyledActions = styled(StyledContent) ``;\nconst StyledHeader = styled(SUIModal.Header) `\n  &&& {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    padding-top: 2rem;\n    padding-bottom: 0;\n    border-bottom: none;\n    border-radius: 0 !important;\n    font-size: 1.75rem !important;\n    font-weight: 200;\n  }\n`;\nconst StyledSubHeader = styled(SubHeader) `\n  &&& {\n    padding: 0 3rem 0 3rem;\n  }\n`;\nexport function Modal(props) {\n    return React.createElement(StyledModal, Object.assign({}, props));\n}\nModal.Actions = StyledActions;\nModal.Content = StyledContent;\nModal.Header = StyledHeader;\nModal.SubHeader = StyledSubHeader;\nModal.FadedText = FadedText;\nModal.Description = SUIModal.Description;\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { DynamicSizeText, StyledNavButton } from './Shared.styles';\nexport function NavButton(props) {\n    const { children, fontSize = 'button', fontWeight = '400', value, wrapClass } = props, rest = __rest(props, [\"children\", \"fontSize\", \"fontWeight\", \"value\", \"wrapClass\"]);\n    return (React.createElement(\"div\", { className: wrapClass },\n        React.createElement(StyledNavButton, Object.assign({}, rest),\n            React.createElement(DynamicSizeText, { fontSize: fontSize, fontWeight: fontWeight }, value || children))));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { useEffect, useState } from 'react';\nimport { combineLatest, of } from 'rxjs';\nimport { BalanceDisplay } from '../BalanceDisplay';\nexport function Balance(props) {\n    const { address, api, detailed = false, orientation = 'horizontal' } = props, rest = __rest(props, [\"address\", \"api\", \"detailed\", \"orientation\"]);\n    const [allBalances, setAllBalances] = useState();\n    const [allStaking, setAllStaking] = useState();\n    useEffect(() => {\n        const balanceSub = combineLatest([\n            api.derive.balances.all(address),\n            api.derive.staking.account(address),\n        ]).subscribe(([allBalances, allStaking]) => {\n            setAllBalances(allBalances);\n            setAllStaking(allStaking);\n        });\n        return () => balanceSub.unsubscribe();\n    }, [api, address]);\n    const handleRedeem = () => {\n        // FIXME We're not unsubscring here, we should\n        of(api.tx.staking.withdrawUnbonded()).subscribe();\n    };\n    return (React.createElement(BalanceDisplay, Object.assign({ allBalances: allBalances, allStaking: allStaking, detailed: detailed, orientation: orientation, handleRedeem: handleRedeem }, rest)));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport IdentityIcon from '@polkadot/react-identicon';\nimport React from 'react';\nimport { Margin } from '../../Margin';\nimport { DynamicSizeText, FadedText, Stacked, StackedHorizontal, SubHeader, } from '../../Shared.styles';\nimport { Balance } from '../Balance';\nconst PLACEHOLDER_NAME = 'No Name';\nconst ICON_SIZES = {\n    tiny: 16,\n    small: 32,\n    medium: 96,\n    large: 128,\n};\nfunction renderIcon(address, size) {\n    return (React.createElement(IdentityIcon, { value: address, theme: 'substrate', size: ICON_SIZES[size] }));\n}\nconst FONT_SIZES = {\n    tiny: 'small',\n    small: 'medium',\n    medium: 'large',\n    large: 'big',\n};\nfunction renderAccountType(type) {\n    return React.createElement(FadedText, null,\n        \" Account Type: \",\n        type,\n        \" \");\n}\nfunction renderBadge(type) {\n    // FIXME make it an actual badge\n    return type === 'nominator' ? (React.createElement(SubHeader, null, \"nominator\")) : (React.createElement(SubHeader, null, \"validator\"));\n}\nfunction renderBondingPair(bondingPair) {\n    return (React.createElement(StackedHorizontal, null,\n        React.createElement(FadedText, null, \" Bonding Pair: \"),\n        \" \",\n        renderIcon(bondingPair, 'tiny'),\n        ' '));\n}\nfunction renderShortAddress(address) {\n    return address\n        .slice(0, 8)\n        .concat('......')\n        .concat(address.slice(address.length - 8, address.length));\n}\nfunction renderDetails(address, api, summaryProps) {\n    const { bondingPair, detailed, isNominator, isValidator, name = PLACEHOLDER_NAME, noBalance, noPlaceholderName, orientation, size = 'medium', type, withShortAddress, } = summaryProps;\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Stacked, { alignItems: 'flex-start' },\n            React.createElement(DynamicSizeText, { fontSize: FONT_SIZES[size] },\n                ' ',\n                noPlaceholderName ? null : name,\n                ' '),\n            withShortAddress && renderShortAddress(address),\n            type && renderAccountType(type)),\n        React.createElement(Stacked, { alignItems: 'flex-start' },\n            bondingPair && renderBondingPair(bondingPair),\n            isNominator && renderBadge('nominator'),\n            isValidator && renderBadge('validator'),\n            !noBalance && (React.createElement(Balance, { address: address, api: api, detailed: detailed, orientation: orientation, fontSize: FONT_SIZES[size] })))));\n}\nexport function AddressSummary(props) {\n    const { address, api, alignItems = 'center', justifyContent = 'flex-start', orientation = 'vertical', size = 'medium', } = props;\n    return address ? (orientation === 'vertical' ? (React.createElement(Stacked, { justifyContent: justifyContent },\n        renderIcon(address, size),\n        renderDetails(address, api, props))) : (React.createElement(StackedHorizontal, { alignItems: alignItems, justifyContent: justifyContent },\n        renderIcon(address, size),\n        React.createElement(Margin, { left: true }),\n        renderDetails(address, api, props)))) : (React.createElement(\"div\", null, \"No Address Provided\"));\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { Table as SUITable, } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport { polkadotOfficialTheme } from './globalStyle';\n// TODO: in shared?\nconst StyledTable = styled(SUITable) `\n  &&& {\n    background-color: #ffffff;\n    border-radius: 2px;\n  }\n  &&& thead th {\n    border-left: none;\n    border-right: none;\n    font-weight: 500;\n    &:nth-child(3),\n    &:nth-last-child(2) {\n      border-left: 1px solid ${polkadotOfficialTheme.grey};\n    }\n  }\n  &&& tr td {\n    &:nth-child(3),\n    &:nth-last-child(2) {\n      border-left: 1px solid ${polkadotOfficialTheme.grey};\n    }\n  }\n  &&& .rowTotal {\n    background-color: transparent !important;\n    &:hover {\n      background: transparent !important;\n    }\n    td {\n      &:not(:last-child) {\n        border-top: 2px solid black;\n        border-bottom: 2px solid black;\n      }\n      &:first-child {\n        border-left: 2px solid black;\n        border-radius: 4px 0 0 4px;\n      }\n      &:nth-last-child(2) {\n        border-right: 2px solid black;\n        border-radius: 0 4px 4px 0;\n      }\n    }\n    [class^='Identicon'] {\n      opacity: 0;\n    }\n  }\n  &&&.striped {\n    border: none;\n    &.selectable {\n      tbody tr {\n        transition: box-shadow 0.2s;\n      }\n      tbody tr:not(.rowTotal):hover {\n        box-shadow: 0 -8px 12px ${polkadotOfficialTheme.shadow};\n      }\n      tbody tr td:last-child {\n        opacity: 0.4;\n        transition: opacity 0.2s;\n      }\n      tbody tr:hover td {\n        opacity: 1;\n        .ui.basic.buttons .button:hover {\n          color: ${polkadotOfficialTheme.signal} !important;\n        }\n      }\n    }\n    thead th {\n      border-bottom: none;\n    }\n    tbody tr:nth-child(2n) {\n      background-color: white !important;\n    }\n    tbody tr:not(.rowTotal):nth-child(2n-1) {\n      background-color: #f4f4f4 !important;\n    }\n    tr {\n      border-bottom: none;\n    }\n    tr td {\n      border-top: none;\n      font-weight: 300;\n    }\n  }\n`;\nexport function TableAccounts(props) {\n    const { striped = true, selectable = true, basic = true, unstackable = true, wrapClass } = props, rest = __rest(props, [\"striped\", \"selectable\", \"basic\", \"unstackable\", \"wrapClass\"]);\n    return (React.createElement(\"div\", { className: wrapClass },\n        React.createElement(StyledTable, Object.assign({ unstackable: unstackable, basic: basic, striped: striped, selectable: selectable }, rest))));\n}\nTableAccounts.Header = SUITable.Header;\nTableAccounts.HeaderCell = SUITable.HeaderCell;\nTableAccounts.Body = SUITable.Body;\nTableAccounts.Row = SUITable.Row;\nTableAccounts.Cell = SUITable.Cell;\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React from 'react';\nimport { Table as SUITable, } from 'semantic-ui-react';\nimport styled from 'styled-components';\nimport { polkadotOfficialTheme } from './globalStyle';\n// TODO: in shared?\nconst StyledTable = styled(SUITable) `\n  &&& {\n    border: none;\n    .signal {\n      color: ${polkadotOfficialTheme.signal};\n    }\n  }\n  &&& tr td {\n    border: none;\n    font-size: 1.2rem;\n    font-weight: 600;\n  }\n  &&& tr:nth-child(3) td,\n  &&& tr:nth-child(3) th {\n    border-top: 1px solid lightgray;\n  }\n`;\nexport function TableTxSummary(props) {\n    const { striped = false, selectable = false, basic = true, unstackable = true, wrapClass } = props, rest = __rest(props, [\"striped\", \"selectable\", \"basic\", \"unstackable\", \"wrapClass\"]);\n    return (React.createElement(\"div\", { className: wrapClass },\n        React.createElement(StyledTable, Object.assign({ className: 'tableTxSummary', unstackable: unstackable, basic: basic, striped: striped, selectable: selectable }, rest))));\n}\nTableTxSummary.Header = SUITable.Header;\nTableTxSummary.HeaderCell = SUITable.HeaderCell;\nTableTxSummary.Body = SUITable.Body;\nTableTxSummary.Row = SUITable.Row;\nTableTxSummary.Cell = SUITable.Cell;\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { Alert as AlertType, AlertsContext } from '@substrate/context';\nimport { Alert } from '@substrate/ui-components';\nimport React, { useContext } from 'react';\n\nexport function Alerts(): React.ReactElement {\n  const { alerts, remove } = useContext(AlertsContext);\n\n  return (\n    <>\n      {alerts.map((alert: AlertType) => (\n        <Alert\n          error={alert.type === 'error'}\n          info={alert.type === 'info'}\n          key={alert.id}\n          onDismiss={(): void => remove(alert.id)}\n          success={alert.type === 'success'}\n          warning={alert.type === 'warning'}\n        >\n          {alert.content}\n        </Alert>\n      ))}\n    </>\n  );\n}\n","// Copyright 2018-2020 @paritytech/Nomidot authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { InjectedAccount } from '@polkadot/extension-inject/types';\nimport React, { useEffect, useState } from 'react';\n\nimport { Injected } from '../InjectedContext/Injected';\n\ninterface AccountContext {\n  accounts: Map<string, InjectedAccount>;\n}\n\ninterface AccountContextProps {\n  children: React.ReactElement;\n  injected?: Injected;\n  originName: string;\n}\n\nexport const AccountContext = React.createContext({} as AccountContext);\n\nexport function AccountContextProvider(\n  props: AccountContextProps\n): React.ReactElement {\n  const { children, injected, originName } = props;\n  const [extensionAccounts, setExtensionAccounts] = useState<InjectedAccount[]>(\n    []\n  );\n\n  useEffect(() => {\n    if (!injected) {\n      return;\n    }\n\n    injected.accounts.subscribe(setExtensionAccounts);\n  }, [injected, originName]);\n\n  const accounts = extensionAccounts.reduce(\n    (accumulator, account) => accumulator.set(account.address, account),\n    new Map<string, InjectedAccount>()\n  );\n\n  return (\n    <AccountContext.Provider value={{ accounts }}>\n      {children}\n    </AccountContext.Provider>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport ApiRx from '@polkadot/api/rx';\nimport { ProviderInterface } from '@polkadot/rpc-provider/types';\nimport { logger } from '@polkadot/util';\nimport React, { useEffect, useState } from 'react';\n\nexport interface ApiContextType {\n  api: ApiRx;\n  isApiReady: boolean;\n}\n\nconst l = logger('api-context');\n\nexport const ApiContext: React.Context<ApiContextType> = React.createContext(\n  {} as ApiContextType\n);\n\nexport interface ApiContextProviderProps {\n  children?: React.ReactElement;\n  provider: ProviderInterface;\n}\n\nexport function ApiContextProvider(\n  props: ApiContextProviderProps\n): React.ReactElement {\n  const { children, provider } = props;\n  const [api, setApi] = useState<ApiRx>(new ApiRx({ provider }));\n  const [isReady, setIsReady] = useState(false);\n\n  useEffect(() => {\n    // We want to fetch all the information again each time we reconnect. We\n    // might be connecting to a different node, or the node might have changed\n    // settings.\n    setApi(new ApiRx({ provider }));\n    setIsReady(false);\n  }, [provider]);\n\n  useEffect(() => {\n    // We want to fetch all the information again each time we reconnect. We\n    // might be connecting to a different node, or the node might have changed\n    // settings.\n    const subscription = api.isReady.subscribe(() => {\n      l.log(`Api ready, app is ready to use`);\n\n      setIsReady(true);\n    });\n\n    return (): void => subscription.unsubscribe();\n  }, [api]);\n\n  return (\n    <ApiContext.Provider value={{ api, isApiReady: isReady }}>\n      {children}\n    </ApiContext.Provider>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport InjectedBase from '@polkadot/extension-base/page/Injected';\nimport { SendRequest } from '@polkadot/extension-base/page/types';\n\n/**\n * Same as parent, but we export the `sendMessage` function, so that other\n * people can use it too.\n */\nexport class Injected extends InjectedBase {\n  public sendMessage: SendRequest;\n\n  constructor(sendMessage: SendRequest) {\n    super(sendMessage);\n    this.sendMessage = sendMessage;\n  }\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nconst ELECTRON_ENV = 'ELECTRON_ENV';\nconst POPUP_ENV = 'POPUP_ENV';\nconst TAB_ENV = 'TAB_ENV';\n\n/**\n * Different types of environment.\n */\nexport type Env = typeof ELECTRON_ENV | typeof POPUP_ENV | typeof TAB_ENV;\n\n/**\n * Detect whether light-apps is running in Electron, in an Extension popup, or\n * as a regular browser webpage tab.\n */\nexport function detectEnvironment(): Env {\n  // Detect ELECTRON_ENV\n  // https://github.com/electron/electron/issues/2288#issuecomment-337858978\n  const userAgent = navigator.userAgent.toLowerCase();\n  if (userAgent.includes(' electron/')) {\n    return ELECTRON_ENV;\n  }\n\n  // Detect POPUP_ENV\n  // Chrome extensions have the global `chrome` object, Firefox have the\n  // `browser` one (WebExtension).\n  if (\n    // https://stackoverflow.com/questions/7507277/detecting-if-code-is-being-run-as-a-chrome-extension\n    (typeof chrome !== 'undefined' && chrome.runtime && chrome.runtime.id) ||\n    typeof browser !== 'undefined'\n  ) {\n    return POPUP_ENV;\n  }\n\n  return TAB_ENV;\n}\n","// Copyright 2018-2020 @polkadot/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport {\n  MessageTypes,\n  RequestTypes,\n  ResponseTypes,\n} from '@polkadot/extension-base/background/types';\nimport { PORT_EXTENSION } from '@polkadot/extension-base/defaults';\nimport { Handlers } from '@polkadot/extension-base/page';\nimport { SendRequest } from '@polkadot/extension-base/page/types';\nimport extension from 'extensionizer';\n\nimport { detectEnvironment } from '../../../util/env';\n\n/**\n * Based on the environment, use `window.postMessage` or `port.PostMessage` for\n * message passing.\n *\n * @param env - The current environment.\n */\nexport function createSendMessageFromPopup(): SendRequest {\n  if (detectEnvironment() !== 'POPUP_ENV') {\n    throw new Error(\n      'createSendMessageFromPopup can only be called from POPUP_ENV'\n    );\n  }\n  const port = extension.runtime.connect({ name: PORT_EXTENSION });\n  const handlers: Handlers = {};\n  let idCounter = 0;\n\n  const sendMessageFromPopup = <TMessageType extends MessageTypes>(\n    message: TMessageType,\n    request?: RequestTypes[TMessageType],\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    subscriber?: (data: any) => void\n  ): Promise<ResponseTypes[TMessageType]> => {\n    return new Promise((resolve, reject): void => {\n      const id = `${Date.now()}.${++idCounter}`;\n\n      handlers[id] = { reject, resolve, subscriber };\n\n      port.postMessage({ id, message, request: request || {} });\n    });\n  };\n\n  // setup a listener for messages, any incoming resolves the promise\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  port.onMessage.addListener((data: any): void => {\n    const handler = handlers[data.id];\n\n    if (!handler) {\n      console.error(`Unknown response: ${JSON.stringify(data)}`);\n\n      return;\n    }\n\n    if (!handler.subscriber) {\n      delete handlers[data.id];\n    }\n\n    if (data.subscription) {\n      (handler.subscriber as Function)(data.subscription);\n    } else if (data.error) {\n      handler.reject(new Error(data.error));\n    } else {\n      handler.resolve(data.response);\n    }\n  });\n\n  return sendMessageFromPopup;\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { web3Enable } from '@polkadot/extension-dapp';\nimport { logger } from '@polkadot/util';\nimport React, { useEffect, useState } from 'react';\n\nimport { detectEnvironment } from '../../../util/env';\nimport { Injected } from './Injected';\nimport { messaging } from './messaging';\nimport { createSendMessageFromPopup } from './sendMessage';\n\ninterface InjectedContext {\n  injected?: Injected;\n  messaging?: ReturnType<typeof messaging>;\n}\n\ninterface InjectedContextProps {\n  children: React.ReactElement;\n  originName: string;\n}\n\nexport const InjectedContext = React.createContext({} as InjectedContext);\n\nconst l = logger('extension-context');\n\nexport function InjectedContextProvider(\n  props: InjectedContextProps\n): React.ReactElement {\n  const { children, originName } = props;\n  const [injected, setInjected] = useState<Injected>();\n\n  useEffect(() => {\n    async function getSendMessage(): Promise<void> {\n      if (detectEnvironment() === 'POPUP_ENV') {\n        const injected = new Injected(createSendMessageFromPopup());\n\n        setInjected(injected);\n      } else {\n        const extensions = await web3Enable(originName);\n\n        if (!extensions.length) {\n          throw new Error('No extension found. Please install SLUI extension.');\n        }\n\n        // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n        // @ts-ignore We overwrote the Injected class, the typings are actually\n        // correct.\n        const injected: Injected = extensions[0];\n\n        setInjected(injected);\n      }\n    }\n\n    getSendMessage().catch(l.error);\n  }, [originName]);\n\n  return (\n    <InjectedContext.Provider\n      value={{\n        injected,\n        messaging: injected && messaging(injected.sendMessage),\n      }}\n    >\n      {children}\n    </InjectedContext.Provider>\n  );\n}\n","// Copyright 2018-2020 @polkadot/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport {\n  SeedLengths,\n  SigningRequest,\n} from '@polkadot/extension-base/background/types';\nimport { SendRequest } from '@polkadot/extension-base/page/types';\nimport { KeypairType } from '@polkadot/util-crypto/types';\n\n// Writing the type of this function is a bit cumbersome\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function messaging(sendMessage: SendRequest) {\n  return {\n    // Acounts\n\n    createAccountExternal(\n      name: string,\n      address: string,\n      genesisHash: string\n    ): Promise<boolean> {\n      return sendMessage('pri(accounts.create.external)', {\n        address,\n        genesisHash,\n        name,\n      });\n    },\n\n    createAccountSuri(\n      name: string,\n      password: string,\n      suri: string,\n      type?: KeypairType\n    ): Promise<boolean> {\n      return sendMessage('pri(accounts.create.suri)', {\n        name,\n        password,\n        suri,\n        type,\n      });\n    },\n\n    createSeed(\n      length?: SeedLengths,\n      type?: KeypairType\n    ): Promise<{ address: string; seed: string }> {\n      return sendMessage('pri(seed.create)', { length, type });\n    },\n\n    editAccount(address: string, name: string): Promise<boolean> {\n      return sendMessage('pri(accounts.edit)', { address, name });\n    },\n\n    exportAccount(\n      address: string,\n      password: string\n    ): Promise<{ exportedJson: string }> {\n      return sendMessage('pri(accounts.export)', { address, password });\n    },\n\n    forgetAccount(address: string): Promise<boolean> {\n      return sendMessage('pri(accounts.forget)', { address });\n    },\n\n    // Signing\n\n    subscribeSigningRequests(\n      cb: (accounts: SigningRequest[]) => void\n    ): Promise<boolean> {\n      return sendMessage('pri(signing.requests)', null, cb);\n    },\n\n    approveSignPassword(id: string, password: string): Promise<boolean> {\n      return sendMessage('pri(signing.approve.password)', { id, password });\n    },\n  };\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { ProviderInterface } from '@polkadot/rpc-provider/types';\nimport { logger } from '@polkadot/util';\nimport React, { useEffect, useState } from 'react';\n\nimport { LazyProvider } from '../../TopBar/ChooseProvider/discover';\n\nconst l = logger('provider-context');\n\nexport interface ProviderContextType {\n  /**\n   * Current lazy provider.\n   */\n  lazy: LazyProvider | undefined;\n  /**\n   * Current provider.\n   */\n  provider: ProviderInterface | undefined;\n  /**\n   * Set a new provider.\n   */\n  setLazyProvider(provider: LazyProvider): void;\n}\n\nexport const ProviderContext: React.Context<ProviderContextType> = React.createContext(\n  {} as ProviderContextType\n);\n\nexport interface ProviderContextProviderProps {\n  children?: React.ReactElement;\n}\n\nexport function ProviderContextProvider(\n  props: ProviderContextProviderProps\n): React.ReactElement {\n  const { children = null } = props;\n  const [lazy, setLazyProvider] = useState<LazyProvider>();\n  const [provider, setProvider] = useState<ProviderInterface>();\n\n  useEffect(() => {\n    // Stop the currently running provider\n    if (provider) {\n      provider.disconnect();\n    }\n\n    if (lazy) {\n      lazy.start().then(setProvider).catch(l.error);\n    }\n    // We don't want `provider` in the deps\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [lazy]);\n\n  return (\n    <ProviderContext.Provider\n      value={{\n        provider,\n        lazy,\n        setLazyProvider,\n      }}\n    >\n      {children}\n    </ProviderContext.Provider>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n// eslint-disable-next-line @typescript-eslint/camelcase\nimport init, { start_client } from '../generated/kusama_cc3/kusama_cc3';\nimport chainSpec from './kusama.json';\nconst name = 'kusama_cc3';\nconst version = 'v0.7.20';\nlet client;\n/**\n * Create a light client by fetching the WASM blob from an URL.\n */\nexport function fromUrl(url) {\n    return {\n        name,\n        network: 'kusama',\n        startClient() {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (client) {\n                    return client;\n                }\n                console.log(`Loading light client \"${name}-${version}\" from ${url}...`);\n                yield init(url);\n                console.log('Successfully loaded WASM, starting client...');\n                client = yield start_client(JSON.stringify(chainSpec), 'INFO');\n                return client;\n            });\n        },\n        version,\n    };\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport { fromUrl } from './fromUrl';\n// eslint-disable-next-line @typescript-eslint/camelcase\nexport const kusama_cc3 = {\n    fromUrl,\n};\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to set private field on non-instance\");\n    }\n    privateMap.set(receiver, value);\n    return value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n        throw new TypeError(\"attempted to get private field on non-instance\");\n    }\n    return privateMap.get(receiver);\n};\nvar _coder, _eventemitter, _isConnected, _rpcClient;\nimport Coder from '@polkadot/rpc-provider/coder';\nimport { assert, logger } from '@polkadot/util';\nimport EventEmitter from 'eventemitter3';\nconst l = logger('wasm-provider');\nexport class WasmProvider {\n    constructor(light) {\n        _coder.set(this, void 0);\n        _eventemitter.set(this, void 0);\n        _isConnected.set(this, false);\n        _rpcClient.set(this, undefined);\n        __classPrivateFieldSet(this, _eventemitter, new EventEmitter());\n        __classPrivateFieldSet(this, _coder, new Coder());\n        this.light = light;\n        this.connect();\n    }\n    /**\n     * @summary `true` when this provider supports subscriptions\n     */\n    get hasSubscriptions() {\n        return true;\n    }\n    /**\n     * @description Returns a clone of the object\n     */\n    clone() {\n        throw new Error('clone() is unimplemented yet.');\n    }\n    connect() {\n        this.light\n            .startClient()\n            .then((rpcClient) => {\n            __classPrivateFieldSet(this, _rpcClient, rpcClient);\n            __classPrivateFieldSet(this, _isConnected, true);\n            this.emit('connected');\n        })\n            .catch(l.error);\n    }\n    /**\n     * @description Manually disconnect from the connection.\n     */\n    disconnect() {\n        if (__classPrivateFieldGet(this, _rpcClient)) {\n            l.log('Destroying WASM light client');\n            __classPrivateFieldGet(this, _rpcClient).free();\n        }\n    }\n    /**\n     * @summary Whether the node is connected or not.\n     * @return {boolean} true if connected\n     */\n    isConnected() {\n        return __classPrivateFieldGet(this, _isConnected);\n    }\n    /**\n     * @summary Listens on events after having subscribed using the [[subscribe]] function.\n     * @param type - Event\n     * @param sub - Callback\n     */\n    on(type, sub) {\n        __classPrivateFieldGet(this, _eventemitter).on(type, sub);\n        return () => {\n            __classPrivateFieldGet(this, _eventemitter).removeListener(type, sub);\n        };\n    }\n    /**\n     * @summary Send JSON data using WebSockets to the wasm node.\n     * @param method The RPC methods to execute\n     * @param params Encoded paramaters as appliucable for the method\n     * @param subscription Subscription details (internally used)\n     */\n    send(method, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    params, subscription\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ) {\n        if (subscription) {\n            const json = __classPrivateFieldGet(this, _coder).encodeJson(method, params);\n            l.debug(() => ['calling', method, json]);\n            assert(__classPrivateFieldGet(this, _rpcClient), 'Please call `send` after WasmProvider is ready');\n            __classPrivateFieldGet(this, _rpcClient).rpcSubscribe(json, (response) => {\n                try {\n                    const result = __classPrivateFieldGet(this, _coder).decodeResponse(JSON.parse(response));\n                    subscription.callback(null, result);\n                }\n                catch (error) {\n                    subscription.callback(error, null);\n                }\n            });\n            return Promise.resolve(0); // TODO subscriptionId\n        }\n        return new Promise((resolve, reject) => {\n            try {\n                const json = __classPrivateFieldGet(this, _coder).encodeJson(method, params);\n                l.debug(() => ['calling', method, json]);\n                assert(__classPrivateFieldGet(this, _rpcClient), 'Please call `send` after WasmProvider is ready');\n                __classPrivateFieldGet(this, _rpcClient).rpcSend(json).then((response) => {\n                    try {\n                        const result = __classPrivateFieldGet(this, _coder).decodeResponse(JSON.parse(response));\n                        resolve(result);\n                    }\n                    catch (error) {\n                        reject(error);\n                    }\n                });\n            }\n            catch (error) {\n                reject(error);\n            }\n        });\n    }\n    /**\n     * @name subscribe\n     * @summary Allows subscribing to a specific event.\n     * @param  {string}                     type     Subscription type\n     * @param  {string}                     method   Subscription method\n     * @param  {any[]}                 params   Parameters\n     * @param  {ProviderInterfaceCallback} callback Callback\n     * @return {Promise<number>}                     Promise resolving to the dd of the subscription you can use with [[unsubscribe]].\n     *\n     * @example\n     * <BR>\n     *\n     * ```javascript\n     * const provider = new WasmProvider(client);\n     * const rpc = new Rpc(provider);\n     *\n     * rpc.state.subscribeStorage([[storage.balances.freeBalance, <Address>]], (_, values) => {\n     *   l.log(values)\n     * }).then((subscriptionId) => {\n     *   l.log('balance changes subscription id: ', subscriptionId)\n     * })\n     * ```\n     */\n    subscribe(type, method, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    params, callback) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const id = yield this.send(method, params, { callback, type });\n            return id;\n        });\n    }\n    /**\n     * @summary Allows unsubscribing to subscriptions made with [[subscribe]].\n     */\n    unsubscribe(_type, method, id) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const result = yield this.send(method, [id]);\n            return result;\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    emit(type, ...args) {\n        __classPrivateFieldGet(this, _eventemitter).emit(type, ...args);\n    }\n}\n_coder = new WeakMap(), _eventemitter = new WeakMap(), _isConnected = new WeakMap(), _rpcClient = new WeakMap();\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n// eslint-disable-next-line @typescript-eslint/camelcase\nimport init, { start_client } from '../generated/kusama_cc3/kusama_cc3';\nimport chainSpec from './westend.json';\nconst name = 'westend';\nconst version = 'v0.0.0';\nlet client;\n/**\n * Create a light client by fetching the WASM blob from an URL.\n */\nexport function fromUrl(url) {\n    return {\n        name,\n        network: 'westend',\n        startClient() {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (client) {\n                    return client;\n                }\n                console.log(`Loading light client \"${name}-${version}\" from ${url}...`);\n                yield init(url);\n                console.log('Successfully loaded WASM, starting client...');\n                client = yield start_client(JSON.stringify(chainSpec), 'INFO');\n                return client;\n            });\n        },\n        version,\n    };\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\nimport { fromUrl } from './fromUrl';\nexport const westend = {\n    fromUrl,\n};\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\n/* eslint-disable @typescript-eslint/camelcase */\n\nimport { WsProvider } from '@polkadot/api';\nimport { ProviderMeta } from '@polkadot/extension-inject/types';\nimport { ProviderInterface } from '@polkadot/rpc-provider/types';\nimport { kusama_cc3, WasmProvider, westend } from '@substrate/light';\n\nimport { detectEnvironment } from '../../../util/env';\nimport { Injected } from '../../context';\n\n/**\n * Interface describing a Provider, lazily loaded.\n */\nexport interface LazyProvider extends ProviderMeta {\n  description: string;\n  id: string;\n  start: () => Promise<ProviderInterface>;\n}\n\n/**\n * The URL to the WASM blob of the light client. In this project, we put it in\n * the `public` folder so that it's statically available.\n */\nconst WASM_BLOB_URL = './kusama_cc3.wasm';\n\n/**\n * These are the WASM providers that the user can run directly inside the\n * browser tab. They are only available in `TAB_ENV`. Note that we made sure to\n * copy the WASM blob inside\n */\nexport const TAB_WASM_PROVIDERS: Record<string, LazyProvider> = {\n  'kusama-WasmProvider': {\n    description: 'In-tab WASM light client',\n    id: 'kusama-WasmProvider',\n    network: 'kusama',\n    node: 'light',\n    source: 'tab',\n    start: (): Promise<ProviderInterface> =>\n      Promise.resolve(new WasmProvider(kusama_cc3.fromUrl(WASM_BLOB_URL))),\n    transport: 'WasmProvider',\n  },\n  'westend-WasmProvider': {\n    description: 'In-tab WASM light client',\n    id: 'westend-WasmProvider',\n    network: 'westend',\n    node: 'light',\n    source: 'tab',\n    start: (): Promise<ProviderInterface> =>\n      Promise.resolve(new WasmProvider(westend.fromUrl(WASM_BLOB_URL))),\n    transport: 'WasmProvider',\n  },\n};\n\n/**\n * These fallback providers connect to a centralized remote RPC node.\n */\nexport const FALLBACK_PROVIDERS: Record<string, LazyProvider> = {\n  'kusama-WsProvider': {\n    description: 'Remote node hosted by W3F',\n    id: 'kusama-WsProvider',\n    network: 'kusama',\n    node: 'light',\n    source: 'fallback',\n    start: (): Promise<ProviderInterface> =>\n      Promise.resolve(new WsProvider('wss://kusama-rpc.polkadot.io')),\n    transport: 'WsProvider',\n  },\n  'westend-WsProvider': {\n    description: 'Remote node hosted by W3F',\n    id: 'westend-WsProvider',\n    network: 'westend',\n    node: 'light',\n    source: 'fallback',\n    start: (): Promise<ProviderInterface> =>\n      Promise.resolve(new WsProvider('wss://westend-rpc.polkadot.io')),\n    transport: 'WsProvider',\n  },\n};\n\ninterface ProviderSources {\n  injected?: Injected;\n}\n\n/**\n * Convert a ProviderMeta from the extension to a LazyProvider used by our\n * ProviderContext.\n */\nfunction toLazyProvider(\n  injected: Injected,\n  meta: ProviderMeta,\n  key: string\n): LazyProvider {\n  return {\n    ...meta,\n    description: `${meta.node} node from from ${meta.source} extension`,\n    id: `${meta.network}-PostMessageProvider`,\n    async start(): Promise<ProviderInterface> {\n      await injected.provider.startProvider(key);\n\n      return injected.provider;\n    },\n  };\n}\n\n/**\n * Get all the providers injected by a browser extension.\n *\n * @param injected - The Injected class, injected by the extension.\n */\nasync function getProvidersFromInjected(\n  injected?: Injected\n): Promise<Record<string, LazyProvider>> {\n  if (injected) {\n    const providers = await injected.provider.listProviders();\n    return Object.entries(providers).reduce((acc, [key, value]) => {\n      const lazyProvider = toLazyProvider(injected, value, key);\n      acc[lazyProvider.id] = lazyProvider;\n\n      return acc;\n    }, {} as Record<string, LazyProvider>);\n  }\n\n  return {};\n}\n\n/**\n * Try and find all available providers:\n * - Try and ping localhost:9933 for a local node\n * - Try to find providers from browser extension\n * - Add fallback remote node providers\n *\n * @param additionalSources - Manually put additional sources from where\n * providers can come (e.g. browser extension).\n */\nexport async function getAllProviders(\n  additionalSources: ProviderSources = {}\n): Promise<Record<string, LazyProvider>> {\n  const extensionProviders = await getProvidersFromInjected(\n    additionalSources.injected\n  );\n\n  const isTabEnv = detectEnvironment() === 'TAB_ENV';\n\n  return {\n    // Only add tab WASM providers if we're in a browser tab\n    ...(isTabEnv ? TAB_WASM_PROVIDERS : {}),\n    ...FALLBACK_PROVIDERS,\n    ...extensionProviders,\n  };\n}\n\n/**\n * Filter out the providers for one particular chain.\n *\n * @param chain - The chain for which we would like to find providers.\n * @param allProviders - The mapping of all the available providers.\n */\nexport function getAllProvidersForChain(\n  chain: string,\n  allProviders: Record<string, LazyProvider>\n): LazyProvider[] {\n  return Object.values(allProviders).filter(({ network }) => network === chain);\n}\n\n/**\n * Given a map of available providers, and a chain, find the best provider to\n * use for that chain.\n *\n * @param chain - The chain for which we would like to find providers.\n * @param allProviders - The mapping of all the available providers.\n */\nexport function discoverChain(\n  chain: string,\n  allProviders: Record<string, LazyProvider>\n): LazyProvider | undefined {\n  const providersForChain = getAllProvidersForChain(chain, allProviders);\n\n  // For now, we choose the WsProvider to the remote node\n  const wsProvider = providersForChain.find(\n    ({ transport }) => transport === 'WsProvider'\n  );\n\n  return wsProvider;\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { logger } from '@polkadot/util';\nimport { useLocalStorage } from '@rehooks/local-storage';\nimport { HealthContext, HealthContextType } from '@substrate/context';\nimport {\n  Circle,\n  ConnectedNodes,\n  Dropdown,\n  DropdownProps,\n  Menu,\n  polkadotOfficialTheme,\n  StackedHorizontal,\n} from '@substrate/ui-components';\nimport React, { useContext, useEffect, useState } from 'react';\n\nimport { InjectedContext, ProviderContext } from '../../context';\nimport {\n  discoverChain,\n  getAllProviders,\n  getAllProvidersForChain,\n  LazyProvider,\n} from './discover';\n\nconst l = logger('choose-provider');\n\nconst GREEN = polkadotOfficialTheme.green;\nconst RED = polkadotOfficialTheme.signal;\n\nfunction renderHealth(health: HealthContextType): React.ReactElement {\n  return (\n    <div className='flex items-center br b--dark-gray ph3'>\n      {!health.isSyncing && health.hasPeers && health.isNodeConnected ? (\n        <Circle fill={GREEN} radius={10} />\n      ) : (\n        <Circle fill={RED} radius={10} />\n      )}\n    </div>\n  );\n}\n\nfunction renderBlockNumber(\n  health: HealthContextType\n): React.ReactElement | null {\n  if (!health.best) {\n    return null;\n  }\n\n  return <span className='db-l dn f7 silver'>Block #{health.best}</span>;\n}\n\n/**\n * From all the providers we have, derive all the chains.\n */\nfunction getAllChains(allProviders: Record<string, LazyProvider>): string[] {\n  return [\n    ...new Set(Object.values(allProviders).map(({ network }) => network)),\n  ];\n}\n\nexport function ChooseProvider(): React.ReactElement {\n  // We store the last used provider in localStorage\n  const [providerId, setProviderId] = useLocalStorage<string | undefined>(\n    'currentProvider'\n  );\n\n  const health = useContext(HealthContext);\n  const { injected } = useContext(InjectedContext);\n  const { lazy, setLazyProvider } = useContext(ProviderContext);\n\n  const [allProviders, setAllProviders] = useState<\n    Record<string, LazyProvider>\n  >();\n  const [chain, setChain] = useState<string>();\n\n  const allChains = allProviders ? getAllChains(allProviders) : [];\n  const allProvidersForChain =\n    chain && allProviders ? getAllProvidersForChain(chain, allProviders) : [];\n\n  // Get the list of all available providers\n  useEffect(() => {\n    getAllProviders({ injected }).then(setAllProviders).catch(l.error);\n  }, [injected]);\n\n  // Once we get the list of chains, select one\n  useEffect(() => {\n    // If we already chose a chain, skip\n    if (chain) {\n      return;\n    }\n\n    // If we already have a provider, set it to the provider's chain\n    if (providerId && allProviders && allProviders[providerId]) {\n      return setChain(allProviders[providerId].network);\n    }\n\n    // If we didn't populate the chains yet, skip\n    if (!allChains.length) {\n      return;\n    }\n\n    // Choose westend by default (it works the best with light client\n    // currently).\n    if (allChains.includes('westend')) {\n      return setChain('westend');\n    }\n    // Or else choose kusama\n    if (allChains.includes('westend')) {\n      return setChain('westend');\n    }\n    // Or else just choose the first one\n    setChain(allChains[0]);\n  }, [chain, allChains, providerId, allProviders]);\n\n  // Discover best provider when we switch chain\n  useEffect(() => {\n    // If we already have a provider, skip\n    if (providerId && allProviders && allProviders[providerId]) {\n      return;\n    }\n\n    // If we don't have a chain yet, skip\n    if (!chain || !allProviders) {\n      return;\n    }\n\n    const bestProvider = discoverChain(chain, allProviders);\n\n    if (!bestProvider) {\n      return l.error(`Cannot find provider for chain ${chain}`);\n    }\n\n    setProviderId(bestProvider.id);\n  }, [allProviders, chain, providerId, setLazyProvider, setProviderId]);\n\n  // From providerId, set the actual provider\n  useEffect(() => {\n    const provider = providerId && allProviders && allProviders[providerId];\n\n    if (provider) {\n      setLazyProvider(provider);\n    } else if (providerId) {\n      l.error(`Cannot find provider with id ${providerId}`);\n    }\n  });\n\n  return (\n    <ConnectedNodes\n      fluid\n      className='flex w-100'\n      nodesClassName='flex justify-center b--silver ba br2'\n      connectorClassName='bb b--silver'\n    >\n      <StackedHorizontal className='w-100 relative'>\n        {renderHealth(health)}\n        <div className='absolute right-2'>{renderBlockNumber(health)}</div>\n        <Menu compact inverted fluid>\n          <Dropdown\n            className='code justify-between'\n            closeOnChange\n            fluid\n            item\n            onChange={(\n              _event: React.SyntheticEvent,\n              { value }: DropdownProps\n            ): void => {\n              // Set the providerId temporarily to `undefined`. The effect will\n              // discover the best provider to use.\n              setProviderId(undefined);\n\n              setChain(value as string);\n            }}\n            options={allChains.map((chain) => ({\n              key: chain,\n              text: chain.toUpperCase(),\n              value: chain,\n            }))}\n            placeholder='Loading chains...'\n            simple\n            theme='dark'\n            value={chain}\n          />\n        </Menu>\n      </StackedHorizontal>\n      <Menu compact inverted fluid>\n        <Dropdown\n          className='code justify-between'\n          closeOnChange\n          fluid\n          item\n          disabled={!chain}\n          onChange={(\n            _event: React.SyntheticEvent,\n            { value }: DropdownProps\n          ): void => {\n            setProviderId(value as string);\n          }}\n          options={allProvidersForChain.map((lazy) => ({\n            key: lazy.id,\n            text: `${lazy.description}`,\n            value: lazy.id,\n          }))}\n          placeholder='Discovering providers...'\n          simple\n          theme='dark'\n          value={lazy?.id}\n        />\n      </Menu>\n    </ConnectedNodes>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { BlackBlock, ContainerFlex, Menu } from '@substrate/ui-components';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { useLocation } from 'react-router-dom';\n\nimport { ChooseProvider } from './ChooseProvider';\n\nconst MenuTabs = (): React.ReactElement => {\n  const { pathname } = useLocation();\n  return (\n    <Menu borderless tabs size='large'>\n      <ContainerFlex className='items-center'>\n        <Menu.Item\n          as={Link}\n          to='/accounts'\n          active={pathname.startsWith('/accounts')}\n        >\n          Accounts\n        </Menu.Item>\n        <Menu.Item\n          as={Link}\n          to='/transfer'\n          active={pathname.startsWith('/transfer')}\n        >\n          Send Funds\n        </Menu.Item>\n      </ContainerFlex>\n    </Menu>\n  );\n};\n\n/**\n * Render logo based on the chain.\n *\n * @todo FIXME we can render different logos for differenct chains.\n */\nfunction renderLogo(): React.ReactElement {\n  return (\n    <Link className='w-50 mr3 h3 flex items-center' to='/'>\n      Lichen\n    </Link>\n  );\n}\n\nexport function TopBar(): React.ReactElement {\n  return (\n    <>\n      <MenuTabs />\n      <BlackBlock>\n        <ContainerFlex className='items-center'>\n          {renderLogo()}\n          <ChooseProvider />\n        </ContainerFlex>\n      </BlackBlock>\n    </>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { Loading } from '@substrate/ui-components';\nimport React, { useContext } from 'react';\n\nimport { ApiContext } from '../../context';\n\n/**\n * A gate that shows a loading screen if the node is not connected yet\n */\nexport function ApiGate({\n  children,\n}: {\n  children?: React.ReactElement;\n}): React.ReactElement {\n  const { isApiReady } = useContext(ApiContext);\n\n  return (\n    <Loading active={!isApiReady} loadingText='Initializing API...'>\n      {isApiReady && children}\n    </Loading>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { HealthContext, HealthContextType } from '@substrate/context';\nimport { Loading } from '@substrate/ui-components';\nimport React, { useContext } from 'react';\n\nconst STATUS_GOOD = 0;\nconst STATUS_WARN = 1;\nconst STATUS_ERROR = 2;\n\nexport type STATUS_CODE =\n  | typeof STATUS_GOOD // All good (green)\n  | typeof STATUS_WARN // Warning (yellow)\n  | typeof STATUS_ERROR; // Error (red)\n\nexport interface Status {\n  code: STATUS_CODE;\n  message?: string;\n}\n\n/**\n * Transform the health information into a color-coded overlay\n *\n * @param header - The latest header of the light node\n * @param health - The health of the light node\n */\nexport function displayStatus(health: HealthContextType): Status {\n  if (!health.isNodeConnected) {\n    return {\n      code: STATUS_ERROR,\n      message: 'Connecting to node...',\n    };\n  }\n\n  if (!health.hasPeers) {\n    return {\n      code: STATUS_ERROR,\n      message: 'Finding peers on the network...',\n    };\n  }\n\n  if (health.isSyncing) {\n    return {\n      code: STATUS_WARN,\n      message: `Syncing #${health.best}...`,\n    };\n  }\n\n  return {\n    code: STATUS_GOOD,\n  };\n}\n\n/**\n * A gate that shows a loading screen if the node is still syncing\n */\nexport function HealthGate({\n  children,\n}: {\n  children?: React.ReactElement;\n}): React.ReactElement {\n  const health = useContext(HealthContext);\n  const status = displayStatus(health);\n\n  const showLoading = [STATUS_ERROR, STATUS_WARN].includes(status.code);\n\n  return (\n    <Loading active={showLoading} loadingText={status.message}>\n      {!showLoading && children}\n    </Loading>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { SystemContext } from '@substrate/context';\nimport { Loading } from '@substrate/ui-components';\nimport React, { useContext } from 'react';\n\nimport { ProviderContext } from '../../context';\n\n/**\n * A gate that shows a loading screen if the node is not connected yet\n */\nexport function SystemGate({\n  children,\n}: {\n  children?: React.ReactElement;\n}): React.ReactElement {\n  const { provider } = useContext(ProviderContext);\n  const { isSystemReady } = useContext(SystemContext);\n\n  return (\n    <Loading\n      active={!isSystemReady}\n      loadingText={provider ? 'Connecting to node...' : 'Choosing provider...'}\n    >\n      {isSystemReady && children}\n    </Loading>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport {\n  AlertsContextProvider,\n  HealthContextProvider,\n  SystemContextProvider,\n} from '@substrate/context';\nimport React from 'react';\n\nimport {\n  AccountContextProvider,\n  ApiContextProvider,\n  InjectedContext,\n  InjectedContextProvider,\n  ProviderContext,\n  ProviderContextProvider,\n} from '../context';\nimport { TopBar } from '../TopBar';\nimport { ApiGate, HealthGate, SystemGate } from './gates';\n\n/**\n * Unique ID to identify our own extension\n */\nconst EXTENSION_ORIGIN_NAME = 'slui';\n\nexport function ContextGate(props: {\n  children: React.ReactElement;\n}): React.ReactElement {\n  const { children } = props;\n\n  return (\n    <InjectedContextProvider originName={EXTENSION_ORIGIN_NAME}>\n      <InjectedContext.Consumer>\n        {({ injected }): React.ReactElement => (\n          <ProviderContextProvider>\n            <ProviderContext.Consumer>\n              {({ provider }): React.ReactElement | null => (\n                <SystemContextProvider provider={provider}>\n                  <HealthContextProvider provider={provider}>\n                    <>\n                      <TopBar />\n                      <SystemGate>\n                        <AccountContextProvider\n                          injected={injected}\n                          originName={EXTENSION_ORIGIN_NAME}\n                        >\n                          <HealthGate>\n                            <>\n                              {/* eslint-disable-next-line @typescript-eslint/no-non-null-assertion */}\n                              <ApiContextProvider provider={provider!}>\n                                <ApiGate>\n                                  <AlertsContextProvider>\n                                    {children}\n                                  </AlertsContextProvider>\n                                </ApiGate>\n                              </ApiContextProvider>\n                            </>\n                          </HealthGate>\n                        </AccountContextProvider>\n                      </SystemGate>\n                    </>\n                  </HealthContextProvider>\n                </SystemContextProvider>\n              )}\n            </ProviderContext.Consumer>\n          </ProviderContextProvider>\n        )}\n      </InjectedContext.Consumer>\n    </InjectedContextProvider>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\n/**\n * Asserts that `val` is not `null` or `undefined`\n *\n * @param val - The value to check\n * @param msg - The error message to throw\n */\nexport function assertIsDefined<T>(\n  val: T,\n  msg: string\n): asserts val is NonNullable<T> {\n  if (val === undefined || val === null) {\n    throw new Error(msg);\n  }\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { handler } from '@substrate/context';\nimport {\n  Input,\n  Margin,\n  NavButton,\n  Stacked,\n  StackedHorizontal,\n  StyledLinkButton,\n} from '@substrate/ui-components';\nimport React, { useCallback } from 'react';\n\ninterface Props {\n  goToNextStep?: () => void;\n  goToPreviousStep?: () => void;\n  name: string;\n  password: string;\n  setName: React.Dispatch<React.SetStateAction<string>>;\n  setPassword: React.Dispatch<React.SetStateAction<string>>;\n  setError: React.Dispatch<React.SetStateAction<string>>;\n}\n\nexport function AddAccountStepMeta(props: Props): React.ReactElement {\n  const {\n    goToNextStep,\n    goToPreviousStep,\n    name,\n    password,\n    setName,\n    setPassword,\n    setError,\n  } = props;\n\n  const handleGoToNextStep = useCallback(() => {\n    if (!name || !password) {\n      return setError('Please fill in all fields.');\n    }\n\n    goToNextStep && goToNextStep();\n  }, [goToNextStep, name, password, setError]);\n\n  return (\n    <Stacked>\n      <Input\n        autoFocus\n        fluid\n        min={1}\n        onChange={handler(setName)}\n        textLabel='Name'\n        type='text'\n        value={name}\n      />\n      <Input\n        fluid\n        min={8}\n        onChange={handler(setPassword)}\n        type='password'\n        textLabel='Passphrase'\n        value={password}\n      />\n      <Margin top />\n      <StackedHorizontal justifyContent='space-between'>\n        {goToPreviousStep && (\n          <StyledLinkButton color='gray' onClick={goToPreviousStep}>\n            Back\n          </StyledLinkButton>\n        )}\n        {goToNextStep && (\n          <NavButton onClick={handleGoToNextStep}>Next</NavButton>\n        )}\n        <StyledLinkButton className='o-0'>Back</StyledLinkButton>\n      </StackedHorizontal>\n    </Stacked>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport {\n  Button,\n  FadedText,\n  FramedBlock,\n  Icon,\n  Margin,\n  Menu,\n  MnemonicPhraseList,\n  NavButton,\n  Stacked,\n  SubHeader,\n} from '@substrate/ui-components';\nimport React from 'react';\n\ninterface Props {\n  goToNextStep: () => void;\n  mnemonic: string;\n  setNewMnemonic: () => void;\n}\n\nexport function AddAccountStepMnemonic(props: Props): React.ReactElement {\n  const { mnemonic, goToNextStep, setNewMnemonic } = props;\n\n  return (\n    <Stacked>\n      <Menu borderless shadow={false} tabs size='tiny'>\n        <Menu.Item active>Copy the following mnemonic phrase</Menu.Item>\n      </Menu>\n      <FramedBlock>\n        <MnemonicPhraseList phrase={mnemonic} />\n        <Button.Group className='absolute bottom-0 right-0'>\n          <Button icon onClick={setNewMnemonic}>\n            <Icon name='redo' />\n          </Button>\n        </Button.Group>\n      </FramedBlock>\n      <Margin top />\n      <SubHeader>Copy your Mnemonic Somewhere Safe</SubHeader>\n      <FadedText>\n        Your private key will be generated from this phrase. Anyone with access\n        to this phrase can have full control your funds so make sure to keep it\n        a secure and secret.\n      </FadedText>\n      <Margin top='large' />\n      <NavButton onClick={goToNextStep} wrapClass='flex w-100 justify-around'>\n        Next\n      </NavButton>\n    </Stacked>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { handler } from '@substrate/context';\nimport {\n  FadedText,\n  FramedBlock,\n  Margin,\n  Menu,\n  MnemonicRandomWord,\n  MnemonicRewriteParts,\n  NavButton,\n  Stacked,\n  StackedHorizontal,\n  StyledLinkButton,\n  SubHeader,\n} from '@substrate/ui-components';\nimport React, { useCallback, useState } from 'react';\n\n/**\n * Fischer Yates shuffle numbers between 0 and @max.\n *\n * @param max highest number the random number should be.\n */\nfunction getRandomInts(max: number): number[] {\n  const scratch = [];\n\n  // populate with the range of possible numbers\n  for (let i = 1; i <= max; ++i) {\n    scratch.push(i);\n  }\n\n  let temp;\n  let randIndex;\n\n  for (let i = max - 1; i >= 0; i -= 1) {\n    randIndex = Math.floor(Math.random() * Math.floor(i));\n    temp = scratch[i];\n    scratch[i] = scratch[randIndex];\n    scratch[randIndex] = temp;\n  }\n\n  return scratch;\n}\n\n/**\n * Pick random four from the mnemonic to make sure user copied it right\n */\nexport function randomlyPickFour(mnemonic: string): MnemonicRandomWord[] {\n  const phraseArray = mnemonic.split(' ');\n  const ceil = phraseArray.length;\n\n  const [first, second, third, fourth] = getRandomInts(ceil);\n\n  const randomFour = [\n    { position: first, word: phraseArray[first - 1] },\n    { position: second, word: phraseArray[second - 1] },\n    { position: third, word: phraseArray[third - 1] },\n    { position: fourth, word: phraseArray[fourth - 1] },\n  ];\n\n  return randomFour;\n}\n\ninterface Props {\n  goToNextStep: () => void;\n  goToPreviousStep: () => void;\n  randomFourWords: MnemonicRandomWord[];\n  setError: React.Dispatch<React.SetStateAction<string>>;\n}\n\nexport function AddAccountStepRewrite(props: Props): React.ReactElement {\n  const { goToNextStep, goToPreviousStep, randomFourWords, setError } = props;\n  const [firstWord, setFirstWord] = useState('');\n  const [secondWord, setSecondWord] = useState('');\n  const [thirdWord, setThirdWord] = useState('');\n  const [fourthWord, setFourthWord] = useState('');\n\n  const handleGoToNextStep = useCallback(() => {\n    if (!firstWord || !secondWord || !thirdWord || !fourthWord) {\n      return setError('Please fill in all fields.');\n    }\n\n    if (\n      !(\n        firstWord === randomFourWords[0].word &&\n        secondWord === randomFourWords[1].word &&\n        thirdWord === randomFourWords[2].word &&\n        fourthWord === randomFourWords[3].word\n      )\n    ) {\n      return setError(\n        'It seems you did not copy all the words properly. Please double check your inputs and try again.'\n      );\n    }\n\n    goToNextStep();\n  }, [\n    firstWord,\n    fourthWord,\n    goToNextStep,\n    randomFourWords,\n    secondWord,\n    setError,\n    thirdWord,\n  ]);\n\n  return (\n    <Stacked>\n      <Menu borderless shadow={false} tabs size='tiny'>\n        <Menu.Item active>Rewrite Mnemonic Below</Menu.Item>\n      </Menu>\n      <FramedBlock>\n        <MnemonicRewriteParts\n          randomFourWords={randomFourWords}\n          firstWord={firstWord}\n          secondWord={secondWord}\n          thirdWord={thirdWord}\n          fourthWord={fourthWord}\n          handleSetFirstWord={handler(setFirstWord)}\n          handleSetSecondWord={handler(setSecondWord)}\n          handleSetThirdWord={handler(setThirdWord)}\n          handleSetFourthWord={handler(setFourthWord)}\n        />\n      </FramedBlock>\n      <Margin top />\n      <SubHeader>Copy your Mnemonic Somewhere Safe</SubHeader>\n      <FadedText>\n        If someone gets hold of this mnemonic they could drain your account\n      </FadedText>\n      <Margin top='large' />\n      <StackedHorizontal justifyContent='space-between'>\n        <StyledLinkButton color='gray' onClick={goToPreviousStep}>\n          Back\n        </StyledLinkButton>\n        <NavButton onClick={handleGoToNextStep}>Next</NavButton>\n        <StyledLinkButton className='o-0' onClick={goToPreviousStep}>\n          Back\n        </StyledLinkButton>\n      </StackedHorizontal>\n    </Stacked>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport {\n  encodeAddress,\n  mnemonicGenerate,\n  mnemonicToSeed,\n  naclKeypairFromSeed,\n} from '@polkadot/util-crypto';\nimport {\n  AddressSummary,\n  ErrorText,\n  MnemonicRandomWord,\n  SizeType,\n  Stacked,\n} from '@substrate/ui-components';\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\n\nimport { ApiContext, InjectedContext } from '../../../../components/context';\nimport { assertIsDefined } from '../../../../util/assert';\nimport { AddAccountStepMeta } from '../shared/StepMeta';\nimport { AddAccountStepMnemonic } from './StepMnemonic';\nimport { AddAccountStepRewrite, randomlyPickFour } from './StepRewrite';\n\ninterface Props extends RouteComponentProps {\n  identiconSize?: SizeType;\n}\n\n/**\n * Derive public address from mnemonic key.\n */\nfunction generateAddressFromMnemonic(mnemonic: string): string {\n  const keypair = naclKeypairFromSeed(mnemonicToSeed(mnemonic));\n\n  return encodeAddress(keypair.publicKey);\n}\n\nexport function Create(props: Props): React.ReactElement {\n  const { history } = props;\n\n  const { api } = useContext(ApiContext);\n  const { messaging } = useContext(InjectedContext);\n\n  // User inputs\n  const [mnemonic, setMnemonic] = useState(mnemonicGenerate());\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const [step, setStep] = useState(0);\n\n  const [error, setError] = useState('');\n\n  // Derived state\n  const [address, setAddress] = useState('');\n  const [randomFourWords, setRandomFourWords] = useState<MnemonicRandomWord[]>(\n    []\n  );\n\n  useEffect(() => {\n    const address = generateAddressFromMnemonic(mnemonic);\n    // pick random four from the mnemonic to make sure user copied it right\n    const randomFour = randomlyPickFour(mnemonic);\n\n    setAddress(address);\n    setRandomFourWords(randomFour);\n  }, [mnemonic]);\n\n  const goToNextStep = (): void => {\n    setError('');\n\n    if (step < 2) {\n      setStep(step + 1);\n    } else {\n      assertIsDefined(\n        messaging,\n        \"We wouldn't be creating an account if there was no injected messaging. qed.\"\n      );\n\n      messaging\n        .createAccountSuri(name, password, mnemonic)\n        .then(() => history.push('/'))\n        .catch((error) => setError(error.message));\n    }\n  };\n\n  const goToPreviousStep = (): void => {\n    setError('');\n\n    if (step > 0) {\n      setStep(step - 1);\n    }\n  };\n\n  const setNewMnemonic = useCallback(() => setMnemonic(mnemonicGenerate()), []);\n\n  function renderStep(step: number): React.ReactElement {\n    switch (step) {\n      case 0:\n        return (\n          <AddAccountStepMnemonic\n            mnemonic={mnemonic}\n            goToNextStep={goToNextStep}\n            setNewMnemonic={setNewMnemonic}\n          />\n        );\n      case 1:\n        return (\n          <AddAccountStepRewrite\n            goToNextStep={goToNextStep}\n            goToPreviousStep={goToPreviousStep}\n            randomFourWords={randomFourWords}\n            setError={setError}\n          />\n        );\n      case 2:\n        return (\n          <AddAccountStepMeta\n            goToNextStep={goToNextStep}\n            goToPreviousStep={goToPreviousStep}\n            name={name}\n            password={password}\n            setName={setName}\n            setPassword={setPassword}\n            setError={setError}\n          />\n        );\n      default:\n        throw new Error(`CreateAccount: Cannot get to step ${step}. qed.`);\n    }\n  }\n\n  return (\n    <Stacked>\n      <div className='absolute left-1 top-2'>\n        <AddressSummary\n          address={address}\n          api={api}\n          name={name}\n          noBalance\n          noPlaceholderName\n          orientation='vertical'\n          size='small'\n        />\n      </div>\n      {error && <ErrorText>{error}</ErrorText>}\n      {renderStep(step)}\n    </Stacked>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { handler } from '@substrate/context';\nimport {\n  ErrorText,\n  FramedBlock,\n  Input,\n  InputFile,\n  Margin,\n  Menu,\n  NavButton,\n  Stacked,\n} from '@substrate/ui-components';\nimport React, { useState } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\n\ntype Props = RouteComponentProps;\n\nexport function RestoreWithJson(_props: Props): React.ReactElement {\n  const [error, setError] = useState('');\n  const [step, setStep] = useState(0);\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [inputPassword, setInputPassword] = useState('');\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  const [jsonString, setJsonString] = useState('');\n\n  const handleFileUploaded = (file: string | null): void => {\n    if (!file) {\n      return setError(\n        'File was empty. Make sure you uploaded the correct file and try again.'\n      );\n    }\n\n    setJsonString(file);\n    setStep(step + 1);\n  };\n\n  const handleRestoreWithJson = (): void => {\n    try {\n      // See https://github.com/polkadot-js/extension/issues/187\n      setError(\"We don't allow importing from JSON yet.\");\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  return (\n    <Stacked>\n      <Menu borderless shadow={false} tabs size='tiny'>\n        <Menu.Item active>Restore Account from JSON Backup File</Menu.Item>\n      </Menu>\n      {step === 0 ? (\n        <FramedBlock>\n          <InputFile onChange={handleFileUploaded} />\n        </FramedBlock>\n      ) : (\n        <>\n          <Input\n            fluid\n            onChange={handler(setInputPassword)}\n            type='password'\n            textLabel='Password'\n          />\n          <ErrorText>{error}</ErrorText>\n          <Margin top />\n          <NavButton\n            onClick={handleRestoreWithJson}\n            value='Restore'\n            wrapClass='flex w-100 justify-around'\n          />\n        </>\n      )}\n    </Stacked>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { handler } from '@substrate/context';\nimport {\n  ErrorText,\n  FramedBlock,\n  Input,\n  Margin,\n  Menu,\n  NavButton,\n  Stacked,\n} from '@substrate/ui-components';\nimport React, { useContext, useState } from 'react';\nimport { RouteComponentProps } from 'react-router-dom';\n\nimport { InjectedContext } from '../../../../components/context';\nimport { assertIsDefined } from '../../../../util/assert';\nimport { AddAccountStepMeta } from '../shared/StepMeta';\n\ntype Props = RouteComponentProps;\n\nexport function RestoreWithPhrase(props: Props): React.ReactElement {\n  const { history } = props;\n\n  const { messaging } = useContext(InjectedContext);\n\n  const [error, setError] = useState('');\n  const [name, setName] = useState('');\n  const [password, setPassword] = useState('');\n  const [recoveryPhrase, setRecoveryPhrase] = useState('');\n\n  const handleSubmit = (): void => {\n    if (!name || !password || !recoveryPhrase) {\n      return setError('Please fill in all fields.');\n    }\n\n    assertIsDefined(\n      messaging,\n      \"We wouldn't be restoring via phrase if there was no injected messaging. qed.\"\n    );\n\n    messaging\n      .createAccountSuri(name, password, recoveryPhrase)\n      .then(() => history.push('/'))\n      .catch(console.error);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      {error && <ErrorText>{error}</ErrorText>}\n      <Stacked>\n        <Menu borderless shadow={false} tabs size='tiny'>\n          <Menu.Item active>Mnemonic Recovery Phrase</Menu.Item>\n        </Menu>\n        <FramedBlock>\n          <Input\n            fluid\n            onChange={handler(setRecoveryPhrase)}\n            type='text'\n            value={recoveryPhrase}\n          />\n        </FramedBlock>\n        <Margin top />\n        <AddAccountStepMeta\n          name={name}\n          password={password}\n          setError={setError}\n          setName={setName}\n          setPassword={setPassword}\n        />\n        <Margin top />\n        <NavButton value='Restore' wrapClass='flex w-100 justify-around' />\n      </Stacked>\n    </form>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { Header, Menu, WrapperDiv } from '@substrate/ui-components';\nimport React from 'react';\nimport { Redirect, Route, RouteComponentProps, Switch } from 'react-router-dom';\n\nimport { Create } from './Create/CreateAccount';\nimport { RestoreWithJson } from './Restore/WithJson';\nimport { RestoreWithPhrase } from './Restore/WithPhrase';\n\ntype Props = RouteComponentProps;\n\nexport function AddAccount(props: Props): React.ReactElement {\n  const { history, location } = props;\n\n  const activeTab = location.pathname.split('/')[3];\n\n  const navToCreate = (): void => {\n    history.push(`/accounts/add/generate`);\n  };\n\n  const navToImportJson = (): void => {\n    history.push(`/accounts/add/json`);\n  };\n\n  const navToImportSeed = (): void => {\n    history.push(`/accounts/add/phrase`);\n  };\n\n  return (\n    <WrapperDiv>\n      <Header>Add an Account</Header>\n      <Menu borderless shadow={false} size='large' text>\n        <Menu.Item active={activeTab === 'generate'} onClick={navToCreate}>\n          Create New\n        </Menu.Item>\n        <Menu.Item active={activeTab === 'json'} onClick={navToImportJson}>\n          Import with Json\n        </Menu.Item>\n        <Menu.Item active={activeTab === 'phrase'} onClick={navToImportSeed}>\n          Import with Seed\n        </Menu.Item>\n      </Menu>\n      <Switch>\n        <Route path='/accounts/add/generate' component={Create} />\n        <Route path='/accounts/add/json' component={RestoreWithJson} />\n        <Route path='/accounts/add/phrase' component={RestoreWithPhrase} />\n        <Redirect to='/accounts/add/generate' />\n      </Switch>\n    </WrapperDiv>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport {\n  AddressSummary,\n  Card,\n  Icon,\n  Margin,\n  StackedHorizontal,\n  StyledLinkButton,\n} from '@substrate/ui-components';\nimport React, { useContext, useState } from 'react';\n\nimport { ApiContext, InjectedContext } from '../../../components/context';\nimport { assertIsDefined } from '../../../util/assert';\n\ninterface Props {\n  address: string;\n  name?: string;\n}\n\nexport function AccountsOverviewCard(props: Props): React.ReactElement {\n  const { address, name } = props;\n\n  const { api } = useContext(ApiContext);\n  const { messaging } = useContext(InjectedContext);\n\n  const [showDetails, setShowDetails] = useState(false);\n\n  const handleBackup = (): void => {\n    assertIsDefined(\n      messaging,\n      \"We wouldn't be showing a backup button if no injected messaging. qed.\"\n    );\n\n    const password = window.prompt('Type the password for this account:');\n    if (password) {\n      messaging\n        .exportAccount(address, password)\n        .then(({ exportedJson }) => {\n          const element = document.createElement('a');\n          element.href = `data:text/plain;charset=utf-8,${exportedJson}`;\n          element.download = `${\n            JSON.parse(exportedJson).meta.name\n          }_exported_account_${Date.now()}.json`;\n          element.click();\n        })\n        .catch(console.error);\n    }\n  };\n\n  function handleForget(): void {\n    assertIsDefined(\n      messaging,\n      \"We wouldn't be showing a forget button if no injected messaging. qed.\"\n    );\n\n    if (window.confirm(`Forget account ${address}?`)) {\n      messaging.forgetAccount(address).catch(console.error);\n    }\n  }\n\n  function handleShowDetails(): void {\n    setShowDetails(!showDetails);\n  }\n\n  return (\n    <>\n      <Card height='80%' raised>\n        <Card.Content textAlign='right'>\n          <AddressSummary\n            address={address}\n            alignItems='center'\n            api={api}\n            detailed={showDetails}\n            justifyContent='center'\n            name={name}\n            orientation='horizontal'\n            size='small'\n          />\n          <Margin bottom />\n\n          <StackedHorizontal>\n            <StyledLinkButton onClick={handleShowDetails}>\n              <Icon name={showDetails ? 'up arrow' : 'down arrow'} />\n              {showDetails ? 'Hide Details' : 'Show Details'}\n            </StyledLinkButton>\n            {showDetails && (\n              <>\n                <StyledLinkButton onClick={handleForget}>\n                  <Icon name='remove' />\n                  Forget\n                </StyledLinkButton>\n                <StyledLinkButton onClick={handleBackup}>\n                  <Icon name='arrow alternate circle down' />\n                  Backup\n                </StyledLinkButton>\n              </>\n            )}\n          </StackedHorizontal>\n        </Card.Content>\n      </Card>\n    </>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport {\n  Button,\n  Icon,\n  Stacked,\n  StackedHorizontal,\n} from '@substrate/ui-components';\nimport React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { AccountContext } from '../../../components/context';\nimport { AccountsOverviewCard } from './OverviewCard';\n\nexport function AccountsOverview(): React.ReactElement {\n  const { accounts } = useContext(AccountContext);\n\n  return (\n    <Stacked>\n      <StackedHorizontal>\n        <h2 className='inline-flex mr3 mb0'>Your Accounts</h2>\n        <Link to='/accounts/add'>\n          <Button basic icon labelPosition='right'>\n            <Icon name='plus' />\n            Add New\n          </Button>\n        </Link>\n      </StackedHorizontal>\n      {[...accounts.values()].map((account) => {\n        return (\n          <AccountsOverviewCard\n            address={account.address}\n            name={account.name}\n            key={account.address}\n          />\n        );\n      })}\n    </Stacked>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { Modal } from '@substrate/ui-components';\nimport React, { useCallback } from 'react';\nimport { Route, RouteComponentProps } from 'react-router-dom';\n\nimport { AddAccount } from './Add';\nimport { AccountsOverview } from './Overview';\n\ntype Props = RouteComponentProps;\n\nexport function Accounts(props: Props): React.ReactElement {\n  const { history } = props;\n\n  const goToAccounts = useCallback((): void => history.push('/'), [history]);\n\n  return (\n    <>\n      <Route\n        path='/accounts/add'\n        render={(routeProps): React.ReactElement => (\n          <Modal onClose={goToAccounts} open>\n            <AddAccount {...routeProps} />\n          </Modal>\n        )}\n      />\n      <Route component={AccountsOverview} />\n    </>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { handler, SystemContext } from '@substrate/context';\nimport { Input, StyledNavButton } from '@substrate/ui-components';\nimport React, { useContext } from 'react';\n\nimport { assertIsDefined } from '../../../util/assert';\nimport { TxStatus } from './TxStatus';\n\ninterface Props {\n  amount: string;\n  password: string;\n  recipient: string;\n  sender: string;\n  setPassword: React.Dispatch<React.SetStateAction<string>>;\n  tip: string;\n  txStatus: TxStatus;\n}\n\nexport function TxDetails(props: Props): React.ReactElement {\n  const {\n    amount,\n    password,\n    recipient,\n    sender,\n    setPassword,\n    tip,\n    txStatus,\n  } = props;\n\n  const { chain, properties } = useContext(SystemContext);\n\n  assertIsDefined(chain, \"We're inside SystemGate. qed.\");\n  assertIsDefined(properties, \"We're inside SystemGate. qed.\");\n\n  return (\n    <>\n      <h3>Transaction Details</h3>\n      <div>Network: {chain.toString()}</div>\n      <div>From: {sender}</div>\n      <div>To: {recipient}</div>\n\n      <div>\n        Amount: {amount} {properties.tokenSymbol.unwrapOr('UNIT').toString()}\n      </div>\n      <div>\n        Tip: {tip || 0} {properties.tokenSymbol.unwrapOr('UNIT').toString()}\n      </div>\n      <div>\n        Fees: {'fees'} {properties.tokenSymbol.unwrapOr('UNIT').toString()}\n      </div>\n      <div>\n        Total: {'total'} {properties.tokenSymbol.unwrapOr('UNIT').toString()}\n      </div>\n\n      <Input\n        fluid\n        label='Password'\n        onChange={handler(setPassword)}\n        placeholder='Your account password'\n        value={password}\n      />\n\n      {/* Submit logic is handled by form in Transfer component */}\n      <StyledNavButton disabled={txStatus !== 'validated'} type='submit'>\n        Submit Transaction\n      </StyledNavButton>\n    </>\n  );\n}\n","import { ExtrinsicStatus } from '@polkadot/types/interfaces';\nimport React from 'react';\n\nexport type TxStatus =\n  | 'empty' // Still needs inputs from user\n  | 'validating' // Frontend is validating user input\n  | 'validated' // Frontend has validated user input\n  | 'sending' // User clicked on submit\n  | ExtrinsicStatus;\n\ninterface Props {\n  txStatus: TxStatus;\n}\n\nexport function TxStatusText(props: Props): React.ReactElement {\n  const { txStatus } = props;\n\n  return <p>[dev] TX STATUS: {txStatus.toString()}</p>;\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { SubjectInfo } from '@polkadot/ui-keyring/observable/types';\nimport { handler, SystemContext } from '@substrate/context';\nimport {\n  Input,\n  InputAddress,\n  Stacked,\n  SubHeader,\n} from '@substrate/ui-components';\nimport React, { useContext } from 'react';\n\nimport { AccountContext } from '../../../components/context';\nimport { assertIsDefined } from '../../../util/assert';\nimport { UserInput } from '../validate';\n\ninterface Props extends UserInput {\n  setAmount: React.Dispatch<React.SetStateAction<string>>;\n  setRecipient: React.Dispatch<React.SetStateAction<string>>;\n  setSender: React.Dispatch<React.SetStateAction<string>>;\n  setTip: React.Dispatch<React.SetStateAction<string>>;\n}\n\nexport function TxForm(props: Props): React.ReactElement {\n  const {\n    amount,\n    recipient,\n    sender,\n    setAmount,\n    setRecipient,\n    setSender,\n    setTip,\n    tip,\n  } = props;\n\n  const { accounts } = useContext(AccountContext);\n  const { properties } = useContext(SystemContext);\n\n  assertIsDefined(properties, \"We're inside SystemGate. qed.\");\n\n  // FIXME memoize this\n  const accountsObj = [...accounts.entries()].reduce((acc, [key, value]) => {\n    acc[key] = {\n      json: { address: value.address, meta: value },\n      option: {\n        key: value.address,\n        name: value.name || value.address,\n        value: value.address,\n      },\n    };\n\n    return acc;\n  }, {} as SubjectInfo);\n\n  return (\n    <Stacked>\n      <div className='items-start justify-start'>\n        <SubHeader textAlign='left'>Amount:</SubHeader>\n        <Input\n          fluid\n          label={properties.tokenSymbol.unwrapOr('UNIT').toString()}\n          labelPosition='right'\n          min={0}\n          onChange={handler(setAmount)}\n          placeholder='e.g. 1.00'\n          step='any'\n          type='number'\n          value={amount}\n        />\n      </div>\n\n      <div className='items-start justify-start'>\n        <SubHeader textAlign='left'>Tip:</SubHeader>\n        <Input\n          fluid\n          label={properties.tokenSymbol.unwrapOr('UNIT').toString()}\n          labelPosition='right'\n          min={0}\n          onChange={handler(setTip)}\n          placeholder='e.g. 0.01'\n          step='any'\n          type='number'\n          value={tip}\n        />\n      </div>\n\n      <div className='items-start justify-start'>\n        <SubHeader textAlign='left'>Sender Account:</SubHeader>\n        <InputAddress\n          accounts={accountsObj}\n          onChangeAddress={setSender}\n          type='accounts'\n          value={sender}\n        />\n      </div>\n\n      <div className='items-start justify-start'>\n        <SubHeader textAlign='left'>Recipient Address:</SubHeader>\n        <Input fluid onChange={handler(setRecipient)} value={recipient} />\n      </div>\n    </Stacked>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport ApiRx from '@polkadot/api/rx';\nimport { Observable, of } from 'rxjs';\nimport { mapTo, tap } from 'rxjs/operators';\n\n/**\n * Check if an address is valid, with the current api.\n */\nfunction isAddressValid(api: ApiRx, address: string): boolean {\n  try {\n    api.createType('Address', address);\n\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nexport interface UserInput {\n  amount: string;\n  recipient: string;\n  sender: string;\n  tip: string;\n}\n\nexport function validate(input: UserInput, api: ApiRx): Observable<void> {\n  return of(input).pipe(\n    tap((input) => {\n      if (!(input.amount && input.recipient && input.sender)) {\n        throw new Error('Please fill in all the fields.');\n      }\n\n      if (!isAddressValid(api, input.recipient)) {\n        throw new Error('Recipient must be a valid address');\n      }\n\n      if (!isAddressValid(api, input.sender)) {\n        throw new Error('Sender must be a valid address');\n      }\n    }),\n    mapTo(void undefined)\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { SigningRequest } from '@polkadot/extension-base/background/types';\nimport { web3FromAddress } from '@polkadot/extension-dapp';\nimport { ErrorText, Form, Header, WrapperDiv } from '@substrate/ui-components';\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\n\nimport { ApiContext, InjectedContext } from '../../components/context';\nimport { assertIsDefined } from '../../util/assert';\nimport { TxDetails, TxStatus, TxStatusText } from './TxDetails';\nimport { TxForm } from './TxForm';\nimport { validate } from './validate';\n\nexport function Transfer(): React.ReactElement {\n  const { api } = useContext(ApiContext);\n  const { messaging } = useContext(InjectedContext);\n\n  const [amount, setAmount] = useState('');\n  const [recipient, setRecipient] = useState('');\n  const [sender, setSender] = useState('');\n  const [tip, setTip] = useState('');\n\n  const [password, setPassword] = useState('');\n\n  const [txStatus, setTxStatus] = useState<TxStatus>('empty');\n  const [error, setError] = useState('');\n\n  // Form validation effect\n  useEffect(() => {\n    setTxStatus('validating');\n\n    if (!amount && !recipient && !sender && !tip) {\n      return;\n    }\n\n    validate({ amount, recipient, sender, tip }, api).subscribe(\n      () => {\n        setTxStatus('validated');\n      },\n      (error) => {\n        setTxStatus('empty');\n        setError(error.message);\n      }\n    );\n  }, [amount, api, recipient, sender, tip]);\n\n  // Form submission handle\n  const handleSubmit = useCallback(() => {\n    async function transfer(): Promise<void> {\n      setTxStatus('sending');\n      const injector = await web3FromAddress(sender);\n      api.setSigner(injector.signer);\n\n      // Create the extrinsic, ready to be signed\n      api.tx.balances\n        .transfer(recipient, amount)\n        .signAndSend(sender, {\n          tip,\n        })\n        .subscribe(\n          ({ status }) => {\n            setTxStatus(status);\n          },\n          (error) => {\n            // Will be caught be the transfer().catch() block\n            throw error;\n          }\n        );\n      assertIsDefined(\n        messaging,\n        \"We wouldn't be sending from this account if there was no injected messaging. qed.\"\n      );\n      // We just created a signing request with `api.tx.balances.transfer`, it\n      // should show up here\n      const request: SigningRequest = await new Promise((resolve) => {\n        messaging.subscribeSigningRequests((requests) => {\n          if (!requests.length) {\n            return;\n          }\n\n          resolve(requests[0]);\n        });\n      });\n      // Finally, we sign the above request with the password the user inputted\n      // FIXME Cater for wrong password\n      await messaging.approveSignPassword(request.id, password);\n    }\n\n    transfer().catch((error) => {\n      // Fallback to `validated` status if there's an error\n      setTxStatus('validated');\n      setError(error.message);\n    });\n  }, [amount, api, messaging, password, recipient, sender, tip]);\n\n  return (\n    <WrapperDiv>\n      <Header>Send Funds</Header>\n      <Form onSubmit={handleSubmit}>\n        <ErrorText>{error}</ErrorText>\n        <TxForm\n          amount={amount}\n          recipient={recipient}\n          sender={sender}\n          setAmount={setAmount}\n          setRecipient={setRecipient}\n          setSender={setSender}\n          setTip={setTip}\n          tip={tip}\n        />\n        {txStatus !== 'empty' && txStatus !== 'validating' && (\n          <TxDetails\n            amount={amount}\n            password={password}\n            recipient={recipient}\n            sender={sender}\n            setPassword={setPassword}\n            tip={tip}\n            txStatus={txStatus}\n          />\n        )}\n        <TxStatusText txStatus={txStatus} />\n      </Form>\n    </WrapperDiv>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport { Container } from '@substrate/ui-components';\nimport React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\n\nimport { Accounts } from './Accounts';\nimport { Transfer } from './Transfer';\n\nexport function Routes(): React.ReactElement {\n  return (\n    <Container>\n      <Switch>\n        <Redirect exact from='/' to='/accounts' />\n        <Route path='/accounts' component={Accounts} />\n        <Route path='/transfer' component={Transfer} />\n        <Redirect to='/' />\n      </Switch>\n    </Container>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport 'semantic-ui-css/semantic.min.css';\n//TODO: tachyons.css from ui-components\nimport 'tachyons/css/tachyons.css';\n\nimport { GlobalStyle, substrateLightTheme } from '@substrate/ui-components';\nimport React from 'react';\nimport { BrowserRouter, MemoryRouter } from 'react-router-dom';\nimport styled, { ThemeProvider } from 'styled-components';\n\nimport { Alerts, ContextGate } from './components';\nimport { Routes } from './pages';\n\n// Use MemoryRouter for production viewing in file:// protocol\n// https://github.com/facebook/create-react-app/issues/3591\n// FIXME Don't use any, but we have the following error:\n// JSX element type 'Router' does not have any construct or call signatures.\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst Router: any =\n  process.env.NODE_ENV === 'production' ? MemoryRouter : BrowserRouter;\n\n// Let this div take up whole screen\nconst FullScreen = styled.div`\n  display: flex;\n  flex-direction: column;\n  min-height: 100%;\n`;\n\nexport function App(): React.ReactElement {\n  return (\n    <Router>\n      <ThemeProvider theme={substrateLightTheme}>\n        <GlobalStyle />\n        <FullScreen>\n          <ContextGate>\n            <Routes />\n          </ContextGate>\n        </FullScreen>\n        <Alerts />\n      </ThemeProvider>\n    </Router>\n  );\n}\n","// Copyright 2018-2020 @paritytech/substrate-light-ui authors & contributors\n// This software may be modified and distributed under the terms\n// of the Apache-2.0 license. See the LICENSE file for details.\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { App } from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","\n      function getAbsoluteUrl(relativeUrl) {\n        const publicPath = __webpack_public_path__;\n\n        let url = '';\n\n        if (!publicPath || publicPath.indexOf('://') < 0) {\n          url += window.location.protocol + '//' + window.location.host;\n        }\n\n        if (publicPath) {\n          url += publicPath;\n        } else {\n          url += '//';\n        }\n\n        return url + relativeUrl;\n      }\nimport { websocket_transport } from './snippets/libp2p-wasm-ext-70c268b265aa8c56/src/websockets.js';\n\nlet wasm;\n\nconst heap = new Array(32).fill(undefined);\n\nheap.push(undefined, null, true, false);\n\nfunction getObject(idx) { return heap[idx]; }\n\nlet heap_next = heap.length;\n\nfunction dropObject(idx) {\n    if (idx < 36) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\n\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\n\nlet cachedTextDecoder = new TextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n\ncachedTextDecoder.decode();\n\nlet cachegetUint8Memory0 = null;\nfunction getUint8Memory0() {\n    if (cachegetUint8Memory0 === null || cachegetUint8Memory0.buffer !== wasm.memory.buffer) {\n        cachegetUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachegetUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n\n    heap[idx] = obj;\n    return idx;\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nlet cachedTextEncoder = new TextEncoder('utf-8');\n\nconst encodeString = (typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n}\n    : function (arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n});\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length);\n        getUint8Memory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n\n    let len = arg.length;\n    let ptr = malloc(len);\n\n    const mem = getUint8Memory0();\n\n    let offset = 0;\n\n    for (; offset < len; offset++) {\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3);\n        const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n\n        offset += ret.written;\n    }\n\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\n\nfunction isLikeNone(x) {\n    return x === undefined || x === null;\n}\n\nlet cachegetInt32Memory0 = null;\nfunction getInt32Memory0() {\n    if (cachegetInt32Memory0 === null || cachegetInt32Memory0.buffer !== wasm.memory.buffer) {\n        cachegetInt32Memory0 = new Int32Array(wasm.memory.buffer);\n    }\n    return cachegetInt32Memory0;\n}\n\nfunction debugString(val) {\n    // primitive types\n    const type = typeof val;\n    if (type == 'number' || type == 'boolean' || val == null) {\n        return  `${val}`;\n    }\n    if (type == 'string') {\n        return `\"${val}\"`;\n    }\n    if (type == 'symbol') {\n        const description = val.description;\n        if (description == null) {\n            return 'Symbol';\n        } else {\n            return `Symbol(${description})`;\n        }\n    }\n    if (type == 'function') {\n        const name = val.name;\n        if (typeof name == 'string' && name.length > 0) {\n            return `Function(${name})`;\n        } else {\n            return 'Function';\n        }\n    }\n    // objects\n    if (Array.isArray(val)) {\n        const length = val.length;\n        let debug = '[';\n        if (length > 0) {\n            debug += debugString(val[0]);\n        }\n        for(let i = 1; i < length; i++) {\n            debug += ', ' + debugString(val[i]);\n        }\n        debug += ']';\n        return debug;\n    }\n    // Test for built-in\n    const builtInMatches = /\\[object ([^\\]]+)\\]/.exec(toString.call(val));\n    let className;\n    if (builtInMatches.length > 1) {\n        className = builtInMatches[1];\n    } else {\n        // Failed to match the standard '[object ClassName]'\n        return toString.call(val);\n    }\n    if (className == 'Object') {\n        // we're a user defined class or Object\n        // JSON.stringify avoids problems with cycles, and is generally much\n        // easier than looping through ownProperties of `val`.\n        try {\n            return 'Object(' + JSON.stringify(val) + ')';\n        } catch (_) {\n            return 'Object';\n        }\n    }\n    // errors\n    if (val instanceof Error) {\n        return `${val.name}: ${val.message}\\n${val.stack}`;\n    }\n    // TODO we could test for more things here, like `Set`s and `Map`s.\n    return className;\n}\n\nfunction makeMutClosure(arg0, arg1, dtor, f) {\n    const state = { a: arg0, b: arg1, cnt: 1 };\n    const real = (...args) => {\n        // First up with a closure we increment the internal reference\n        // count. This ensures that the Rust closure environment won't\n        // be deallocated while we're invoking it.\n        state.cnt++;\n        const a = state.a;\n        state.a = 0;\n        try {\n            return f(a, state.b, ...args);\n        } finally {\n            if (--state.cnt === 0) wasm.__wbindgen_export_2.get(dtor)(a, state.b);\n            else state.a = a;\n        }\n    };\n    real.original = state;\n    return real;\n}\nfunction __wbg_adapter_24(arg0, arg1) {\n    wasm._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h313d1d43044a597b(arg0, arg1);\n}\n\nfunction __wbg_adapter_27(arg0, arg1) {\n    wasm._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h2da1313579f6012f(arg0, arg1);\n}\n\nfunction __wbg_adapter_30(arg0, arg1, arg2) {\n    wasm._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__he89103dd1482972e(arg0, arg1, addHeapObject(arg2));\n}\n\nlet stack_pointer = 32;\n\nfunction addBorrowedObject(obj) {\n    if (stack_pointer == 1) throw new Error('out of js stack');\n    heap[--stack_pointer] = obj;\n    return stack_pointer;\n}\nfunction __wbg_adapter_33(arg0, arg1, arg2) {\n    try {\n        wasm._dyn_core__ops__function__FnMut___A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hca2c79b9bde34ba2(arg0, arg1, addBorrowedObject(arg2));\n    } finally {\n        heap[stack_pointer++] = undefined;\n    }\n}\n\nfunction __wbg_adapter_36(arg0, arg1) {\n    wasm._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h44997e42a2a65230(arg0, arg1);\n}\n\n/**\n* Starts the client.\n* @param {string} chain_spec\n* @param {string} log_level\n* @returns {any}\n*/\nexport function start_client(chain_spec, log_level) {\n    var ptr0 = passStringToWasm0(chain_spec, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n    var len0 = WASM_VECTOR_LEN;\n    var ptr1 = passStringToWasm0(log_level, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n    var len1 = WASM_VECTOR_LEN;\n    var ret = wasm.start_client(ptr0, len0, ptr1, len1);\n    return takeObject(ret);\n}\n\nfunction handleError(e) {\n    wasm.__wbindgen_exn_store(addHeapObject(e));\n}\n\nfunction getArrayU8FromWasm0(ptr, len) {\n    return getUint8Memory0().subarray(ptr / 1, ptr / 1 + len);\n}\n\nlet cachegetUint32Memory0 = null;\nfunction getUint32Memory0() {\n    if (cachegetUint32Memory0 === null || cachegetUint32Memory0.buffer !== wasm.memory.buffer) {\n        cachegetUint32Memory0 = new Uint32Array(wasm.memory.buffer);\n    }\n    return cachegetUint32Memory0;\n}\n\nfunction passArrayJsValueToWasm0(array, malloc) {\n    const ptr = malloc(array.length * 4);\n    const mem = getUint32Memory0();\n    for (let i = 0; i < array.length; i++) {\n        mem[ptr / 4 + i] = addHeapObject(array[i]);\n    }\n    WASM_VECTOR_LEN = array.length;\n    return ptr;\n}\nfunction __wbg_adapter_184(arg0, arg1, arg2, arg3) {\n    wasm.wasm_bindgen__convert__closures__invoke2_mut__h48eace5a5a1d1747(arg0, arg1, addHeapObject(arg2), addHeapObject(arg3));\n}\n\n/**\n* A running client.\n*/\nexport class Client {\n\n    static __wrap(ptr) {\n        const obj = Object.create(Client.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    free() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        wasm.__wbg_client_free(ptr);\n    }\n    /**\n    * Allows starting an RPC request. Returns a `Promise` containing the result of that request.\n    * @param {string} rpc\n    * @returns {Promise<any>}\n    */\n    rpcSend(rpc) {\n        var ptr0 = passStringToWasm0(rpc, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        var ret = wasm.client_rpcSend(this.ptr, ptr0, len0);\n        return takeObject(ret);\n    }\n    /**\n    * Subscribes to an RPC pubsub endpoint.\n    * @param {string} rpc\n    * @param {Function} callback\n    */\n    rpcSubscribe(rpc, callback) {\n        var ptr0 = passStringToWasm0(rpc, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        wasm.client_rpcSubscribe(this.ptr, ptr0, len0, addHeapObject(callback));\n    }\n}\n\nasync function load(module, imports) {\n    if (typeof Response === 'function' && module instanceof Response) {\n\n        if (typeof WebAssembly.instantiateStreaming === 'function') {\n            try {\n                return await WebAssembly.instantiateStreaming(module, imports);\n\n            } catch (e) {\n                if (module.headers.get('Content-Type') != 'application/wasm') {\n                    console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n\n                } else {\n                    throw e;\n                }\n            }\n        }\n\n        const bytes = await module.arrayBuffer();\n        return await WebAssembly.instantiate(bytes, imports);\n\n    } else {\n\n        const instance = await WebAssembly.instantiate(module, imports);\n\n        if (instance instanceof WebAssembly.Instance) {\n            return { instance, module };\n\n        } else {\n            return instance;\n        }\n    }\n}\n\nasync function init(input) {\n    if (typeof input === 'undefined') {\n        input = ({ url: getAbsoluteUrl('generated/kusama_cc3/kusama_cc3.js') }).url.replace(/\\.js$/, '_bg.wasm');\n    }\n    const imports = {};\n    imports.wbg = {};\n    imports.wbg.__wbindgen_object_drop_ref = function(arg0) {\n        takeObject(arg0);\n    };\n    imports.wbg.__wbindgen_cb_drop = function(arg0) {\n        const obj = takeObject(arg0).original;\n        if (obj.cnt-- == 1) {\n            obj.a = 0;\n            return true;\n        }\n        var ret = false;\n        return ret;\n    };\n    imports.wbg.__wbindgen_string_new = function(arg0, arg1) {\n        var ret = getStringFromWasm0(arg0, arg1);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_client_new = function(arg0) {\n        var ret = Client.__wrap(arg0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_cb_forget = function(arg0) {\n        takeObject(arg0);\n    };\n    imports.wbg.__wbg_new_59cb74e423758ede = function() {\n        var ret = new Error();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_stack_558ba5917b466edd = function(arg0, arg1) {\n        var ret = getObject(arg1).stack;\n        var ptr0 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len0;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr0;\n    };\n    imports.wbg.__wbg_error_4bb6c2a97407129a = function(arg0, arg1) {\n        try {\n            console.error(getStringFromWasm0(arg0, arg1));\n        } finally {\n            wasm.__wbindgen_free(arg0, arg1);\n        }\n    };\n    imports.wbg.__wbindgen_object_clone_ref = function(arg0) {\n        var ret = getObject(arg0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_listenon_29b270c00f11bb1d = function(arg0, arg1, arg2) {\n        try {\n            var ret = getObject(arg0).listen_on(getStringFromWasm0(arg1, arg2));\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_dial_ce540d0025a8c26c = function(arg0, arg1, arg2) {\n        try {\n            var ret = getObject(arg0).dial(getStringFromWasm0(arg1, arg2));\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_read_91c0d30ec3d52352 = function(arg0) {\n        var ret = getObject(arg0).read;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_close_78c9b15ff92a3e07 = function(arg0) {\n        getObject(arg0).close();\n    };\n    imports.wbg.__wbg_newaddrs_6532534ae49e2942 = function(arg0, arg1) {\n        var ret = getObject(arg1).new_addrs;\n        var ptr0 = isLikeNone(ret) ? 0 : passArrayJsValueToWasm0(ret, wasm.__wbindgen_malloc);\n        var len0 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len0;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr0;\n    };\n    imports.wbg.__wbg_newconnections_26d3027da3bc3d34 = function(arg0, arg1) {\n        var ret = getObject(arg1).new_connections;\n        var ptr0 = isLikeNone(ret) ? 0 : passArrayJsValueToWasm0(ret, wasm.__wbindgen_malloc);\n        var len0 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len0;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr0;\n    };\n    imports.wbg.__wbg_localaddr_2c3bc298a97f0d31 = function(arg0, arg1) {\n        var ret = getObject(arg1).local_addr;\n        var ptr0 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len0;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr0;\n    };\n    imports.wbg.__wbg_observedaddr_3bb9aac327c718a8 = function(arg0, arg1) {\n        var ret = getObject(arg1).observed_addr;\n        var ptr0 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len0;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr0;\n    };\n    imports.wbg.__wbg_connection_fc27a4cc12bbb95c = function(arg0) {\n        var ret = getObject(arg0).connection;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_expiredaddrs_6df40054e2545c02 = function(arg0, arg1) {\n        var ret = getObject(arg1).expired_addrs;\n        var ptr0 = isLikeNone(ret) ? 0 : passArrayJsValueToWasm0(ret, wasm.__wbindgen_malloc);\n        var len0 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len0;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr0;\n    };\n    imports.wbg.__wbindgen_is_null = function(arg0) {\n        var ret = getObject(arg0) === null;\n        return ret;\n    };\n    imports.wbg.__wbg_write_c737a4dd2daa456c = function(arg0, arg1, arg2) {\n        try {\n            var ret = getObject(arg0).write(getArrayU8FromWasm0(arg1, arg2));\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_shutdown_737963eaf38872f4 = function(arg0) {\n        try {\n            getObject(arg0).shutdown();\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_websockettransport_16675675a626eccf = function() {\n        var ret = websocket_transport();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_Window_f826a1dec163bacb = function(arg0) {\n        var ret = getObject(arg0).Window;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_is_undefined = function(arg0) {\n        var ret = getObject(arg0) === undefined;\n        return ret;\n    };\n    imports.wbg.__wbg_WorkerGlobalScope_967d186155183d38 = function(arg0) {\n        var ret = getObject(arg0).WorkerGlobalScope;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_instanceof_Window_a633dbe0900c728a = function(arg0) {\n        var ret = getObject(arg0) instanceof Window;\n        return ret;\n    };\n    imports.wbg.__wbg_performance_cc98652048194dbe = function(arg0) {\n        var ret = getObject(arg0).performance;\n        return isLikeNone(ret) ? 0 : addHeapObject(ret);\n    };\n    imports.wbg.__wbg_indexedDB_786fa5cffcec3d70 = function(arg0) {\n        try {\n            var ret = getObject(arg0).indexedDB;\n            return isLikeNone(ret) ? 0 : addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_clearTimeout_0a1052783da2e81d = function(arg0, arg1) {\n        getObject(arg0).clearTimeout(arg1);\n    };\n    imports.wbg.__wbg_setTimeout_8a3a29e4f2326809 = function(arg0, arg1, arg2) {\n        try {\n            var ret = getObject(arg0).setTimeout(getObject(arg1), arg2);\n            return ret;\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_debug_7020dcb48edf105b = function(arg0) {\n        console.debug(getObject(arg0));\n    };\n    imports.wbg.__wbg_error_b23efba5bfb5cec5 = function(arg0) {\n        console.error(getObject(arg0));\n    };\n    imports.wbg.__wbg_info_8ce99578d0b91a35 = function(arg0) {\n        console.info(getObject(arg0));\n    };\n    imports.wbg.__wbg_log_c180b836187d3c94 = function(arg0) {\n        console.log(getObject(arg0));\n    };\n    imports.wbg.__wbg_warn_942f927afebcc748 = function(arg0) {\n        console.warn(getObject(arg0));\n    };\n    imports.wbg.__wbg_target_7c8691623acab2b6 = function(arg0) {\n        var ret = getObject(arg0).target;\n        return isLikeNone(ret) ? 0 : addHeapObject(ret);\n    };\n    imports.wbg.__wbg_value_ab7e0864921a0249 = function(arg0) {\n        try {\n            var ret = getObject(arg0).value;\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_key_98f9c3510a871aab = function(arg0) {\n        try {\n            var ret = getObject(arg0).key;\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_continue_c5d6858486a49ae0 = function(arg0) {\n        try {\n            getObject(arg0).continue();\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_oncomplete_a472af4d68085f4e = function(arg0, arg1) {\n        getObject(arg0).oncomplete = getObject(arg1);\n    };\n    imports.wbg.__wbg_onerror_18d4baa796b3c83c = function(arg0, arg1) {\n        getObject(arg0).onerror = getObject(arg1);\n    };\n    imports.wbg.__wbg_objectStore_30c5fb22a544cdc0 = function(arg0, arg1, arg2) {\n        try {\n            var ret = getObject(arg0).objectStore(getStringFromWasm0(arg1, arg2));\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_length_96a4ad170ac120a3 = function(arg0) {\n        var ret = getObject(arg0).length;\n        return ret;\n    };\n    imports.wbg.__wbg_clearTimeout_ef9b4e7064304f19 = function(arg0, arg1) {\n        getObject(arg0).clearTimeout(arg1);\n    };\n    imports.wbg.__wbg_setTimeout_1bb7442307efefb2 = function(arg0, arg1, arg2) {\n        try {\n            var ret = getObject(arg0).setTimeout(getObject(arg1), arg2);\n            return ret;\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_delete_32516d6d2da36e5b = function(arg0, arg1) {\n        try {\n            var ret = getObject(arg0).delete(getObject(arg1));\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_openCursor_03070b344806930c = function(arg0) {\n        try {\n            var ret = getObject(arg0).openCursor();\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_put_f3607afa489e09e5 = function(arg0, arg1, arg2) {\n        try {\n            var ret = getObject(arg0).put(getObject(arg1), getObject(arg2));\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_instanceof_IdbDatabase_56eba0d2b056531a = function(arg0) {\n        var ret = getObject(arg0) instanceof IDBDatabase;\n        return ret;\n    };\n    imports.wbg.__wbg_version_e37fbc7822b8af91 = function(arg0) {\n        var ret = getObject(arg0).version;\n        return ret;\n    };\n    imports.wbg.__wbg_objectStoreNames_68bc3ddee96dca07 = function(arg0) {\n        var ret = getObject(arg0).objectStoreNames;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_close_bc5d600e55105ed4 = function(arg0) {\n        getObject(arg0).close();\n    };\n    imports.wbg.__wbg_createObjectStore_7c0df7de88384a54 = function(arg0, arg1, arg2) {\n        try {\n            var ret = getObject(arg0).createObjectStore(getStringFromWasm0(arg1, arg2));\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_transaction_b00142afde019410 = function(arg0, arg1, arg2) {\n        try {\n            var ret = getObject(arg0).transaction(getStringFromWasm0(arg1, arg2));\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_transaction_961e4f1085d36649 = function(arg0, arg1, arg2) {\n        try {\n            var ret = getObject(arg0).transaction(getObject(arg1), takeObject(arg2));\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_open_11fae9bba90577c8 = function(arg0, arg1, arg2, arg3) {\n        try {\n            var ret = getObject(arg0).open(getStringFromWasm0(arg1, arg2), arg3 >>> 0);\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_open_6998f972d161aa98 = function(arg0, arg1, arg2) {\n        try {\n            var ret = getObject(arg0).open(getStringFromWasm0(arg1, arg2));\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_onupgradeneeded_d8d555253ef9abd3 = function(arg0, arg1) {\n        getObject(arg0).onupgradeneeded = getObject(arg1);\n    };\n    imports.wbg.__wbg_now_ce4a6a89baf241c9 = function(arg0) {\n        var ret = getObject(arg0).now();\n        return ret;\n    };\n    imports.wbg.__wbg_instanceof_IdbRequest_06f62bd63408aafb = function(arg0) {\n        var ret = getObject(arg0) instanceof IDBRequest;\n        return ret;\n    };\n    imports.wbg.__wbg_result_f673e649c3ed4aa6 = function(arg0) {\n        try {\n            var ret = getObject(arg0).result;\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_onsuccess_63414f423ba8e36c = function(arg0, arg1) {\n        getObject(arg0).onsuccess = getObject(arg1);\n    };\n    imports.wbg.__wbg_next_c08bf57a239475c3 = function(arg0) {\n        try {\n            var ret = getObject(arg0).next();\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_done_e784c64062606540 = function(arg0) {\n        var ret = getObject(arg0).done;\n        return ret;\n    };\n    imports.wbg.__wbg_value_11f53ed6202a1367 = function(arg0) {\n        var ret = getObject(arg0).value;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_call_804d3ad7e8acd4d5 = function(arg0, arg1) {\n        try {\n            var ret = getObject(arg0).call(getObject(arg1));\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_new_ec28d6ba821801cb = function() {\n        var ret = new Array();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_push_ffaa2df7422d3b4c = function(arg0, arg1) {\n        var ret = getObject(arg0).push(getObject(arg1));\n        return ret;\n    };\n    imports.wbg.__wbg_byteLength_23cbcb86d9831911 = function(arg0) {\n        var ret = getObject(arg0).byteLength;\n        return ret;\n    };\n    imports.wbg.__wbg_instanceof_Error_38fe748d6a3e7f96 = function(arg0) {\n        var ret = getObject(arg0) instanceof Error;\n        return ret;\n    };\n    imports.wbg.__wbg_message_2867dbc381d4281d = function(arg0) {\n        var ret = getObject(arg0).message;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_name_0a313043456d3ac9 = function(arg0) {\n        var ret = getObject(arg0).name;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_newnoargs_ebdc90c3d1e4e55d = function(arg0, arg1) {\n        var ret = new Function(getStringFromWasm0(arg0, arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_call_1ad0eb4a7ab279eb = function(arg0, arg1, arg2) {\n        try {\n            var ret = getObject(arg0).call(getObject(arg1), getObject(arg2));\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_getTime_2101de8de4528431 = function(arg0) {\n        var ret = getObject(arg0).getTime();\n        return ret;\n    };\n    imports.wbg.__wbg_getTimezoneOffset_63759850d5e93deb = function(arg0) {\n        var ret = getObject(arg0).getTimezoneOffset();\n        return ret;\n    };\n    imports.wbg.__wbg_new0_1d54bbc12959ee65 = function() {\n        var ret = new Date();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_now_baf1a029473d526d = function() {\n        var ret = Date.now();\n        return ret;\n    };\n    imports.wbg.__wbg_instanceof_Object_eff62166ff6be605 = function(arg0) {\n        var ret = getObject(arg0) instanceof Object;\n        return ret;\n    };\n    imports.wbg.__wbg_toString_2a876371b7e4d365 = function(arg0) {\n        var ret = getObject(arg0).toString();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_new_1bf1b0dbcaa9ee96 = function(arg0, arg1) {\n        try {\n            var state0 = {a: arg0, b: arg1};\n            var cb0 = (arg0, arg1) => {\n                const a = state0.a;\n                state0.a = 0;\n                try {\n                    return __wbg_adapter_184(a, state0.b, arg0, arg1);\n                } finally {\n                    state0.a = a;\n                }\n            };\n            var ret = new Promise(cb0);\n            return addHeapObject(ret);\n        } finally {\n            state0.a = state0.b = 0;\n        }\n    };\n    imports.wbg.__wbg_resolve_3e5970e9c931a3c2 = function(arg0) {\n        var ret = Promise.resolve(getObject(arg0));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_then_d797310661d9e275 = function(arg0, arg1) {\n        var ret = getObject(arg0).then(getObject(arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_then_e37e0b9ef0995585 = function(arg0, arg1, arg2) {\n        var ret = getObject(arg0).then(getObject(arg1), getObject(arg2));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_globalThis_48a5e9494e623f26 = function() {\n        try {\n            var ret = globalThis.globalThis;\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_self_25067cb019cade42 = function() {\n        try {\n            var ret = self.self;\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_window_9e80200b35aa30f8 = function() {\n        try {\n            var ret = window.window;\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_global_7583a634265a91fc = function() {\n        try {\n            var ret = global.global;\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_buffer_f897a8d316863411 = function(arg0) {\n        var ret = getObject(arg0).buffer;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_newwithbyteoffsetandlength_284676320876299d = function(arg0, arg1, arg2) {\n        var ret = new Uint8Array(getObject(arg0), arg1 >>> 0, arg2 >>> 0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_length_b7dc6aed3ca09be1 = function(arg0) {\n        var ret = getObject(arg0).length;\n        return ret;\n    };\n    imports.wbg.__wbg_new_da17c07b1fbb4a8b = function(arg0) {\n        var ret = new Uint8Array(getObject(arg0));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_set_4a8545284001c06f = function(arg0, arg1, arg2) {\n        getObject(arg0).set(getObject(arg1), arg2 >>> 0);\n    };\n    imports.wbg.__wbg_byteLength_5f1abb9d0f73f112 = function(arg0) {\n        var ret = getObject(arg0).byteLength;\n        return ret;\n    };\n    imports.wbg.__wbg_self_1b7a39e3a92c949c = function() {\n        try {\n            var ret = self.self;\n            return addHeapObject(ret);\n        } catch (e) {\n            handleError(e)\n        }\n    };\n    imports.wbg.__wbg_require_604837428532a733 = function(arg0, arg1) {\n        var ret = require(getStringFromWasm0(arg0, arg1));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_crypto_968f1772287e2df0 = function(arg0) {\n        var ret = getObject(arg0).crypto;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_getRandomValues_a3d34b4fee3c2869 = function(arg0) {\n        var ret = getObject(arg0).getRandomValues;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_getRandomValues_f5e14ab7ac8e995d = function(arg0, arg1, arg2) {\n        getObject(arg0).getRandomValues(getArrayU8FromWasm0(arg1, arg2));\n    };\n    imports.wbg.__wbg_randomFillSync_d5bd2d655fdf256a = function(arg0, arg1, arg2) {\n        getObject(arg0).randomFillSync(getArrayU8FromWasm0(arg1, arg2));\n    };\n    imports.wbg.__wbindgen_string_get = function(arg0, arg1) {\n        const obj = getObject(arg1);\n        var ret = typeof(obj) === 'string' ? obj : undefined;\n        var ptr0 = isLikeNone(ret) ? 0 : passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len0;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr0;\n    };\n    imports.wbg.__wbindgen_debug_string = function(arg0, arg1) {\n        var ret = debugString(getObject(arg1));\n        var ptr0 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len0;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr0;\n    };\n    imports.wbg.__wbindgen_throw = function(arg0, arg1) {\n        throw new Error(getStringFromWasm0(arg0, arg1));\n    };\n    imports.wbg.__wbindgen_memory = function() {\n        var ret = wasm.memory;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_closure_wrapper17381 = function(arg0, arg1, arg2) {\n        var ret = makeMutClosure(arg0, arg1, 6634, __wbg_adapter_27);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_closure_wrapper9259 = function(arg0, arg1, arg2) {\n        var ret = makeMutClosure(arg0, arg1, 2994, __wbg_adapter_33);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_closure_wrapper16720 = function(arg0, arg1, arg2) {\n        var ret = makeMutClosure(arg0, arg1, 6338, __wbg_adapter_30);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_closure_wrapper9260 = function(arg0, arg1, arg2) {\n        var ret = makeMutClosure(arg0, arg1, 2994, __wbg_adapter_36);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_closure_wrapper17661 = function(arg0, arg1, arg2) {\n        var ret = makeMutClosure(arg0, arg1, 6749, __wbg_adapter_24);\n        return addHeapObject(ret);\n    };\n\n    if (typeof input === 'string' || (typeof Request === 'function' && input instanceof Request) || (typeof URL === 'function' && input instanceof URL)) {\n        input = fetch(input);\n    }\n\n    const { instance, module } = await load(await input, imports);\n\n    wasm = instance.exports;\n    init.__wbindgen_wasm_module = module;\n\n    return wasm;\n}\n\nexport default init;\n\n","// Copyright 2020 Parity Technologies (UK) Ltd.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the \"Software\"),\n// to deal in the Software without restriction, including without limitation\n// the rights to use, copy, modify, merge, publish, distribute, sublicense,\n// and/or sell copies of the Software, and to permit persons to whom the\n// Software is furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\n// FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER\n// DEALINGS IN THE SOFTWARE.\n\nexport const websocket_transport = () => {\n\treturn {\n\t\tdial: dial,\n\t\tlisten_on: (addr) => {\n\t\t\tlet err = new Error(\"Listening on WebSockets is not possible from within a browser\");\n\t\t\terr.name = \"NotSupportedError\";\n\t\t\tthrow err;\n\t\t},\n\t};\n}\n\n/// Turns a string multiaddress into a WebSockets string URL.\n// TODO: support dns addresses as well\nconst multiaddr_to_ws = (addr) => {\n\tlet parsed = addr.match(/^\\/(ip4|ip6|dns4|dns6)\\/(.*?)\\/tcp\\/(.*?)\\/(ws|wss|x-parity-ws\\/(.*)|x-parity-wss\\/(.*))$/);\n\tif (parsed != null) {\n\t\tlet proto = 'wss';\n\t\tif (parsed[4] == 'ws' || parsed[4] == 'x-parity-ws') {\n\t\t\tproto = 'ws';\n\t\t}\n\t\tlet url = decodeURIComponent(parsed[5] || parsed[6] || '');\n\t\tif (parsed[1] == 'ip6') {\n\t\t\treturn proto + \"://[\" + parsed[2] + \"]:\" + parsed[3] + url;\n\t\t} else {\n\t\t\treturn proto + \"://\" + parsed[2] + \":\" + parsed[3] + url;\n\t\t}\n\t}\n\n\tlet err = new Error(\"Address not supported: \" + addr);\n\terr.name = \"NotSupportedError\";\n\tthrow err;\n}\n\n// Attempt to dial a multiaddress.\nconst dial = (addr) => {\n\tlet ws = new WebSocket(multiaddr_to_ws(addr));\n\tlet reader = read_queue();\n\n\treturn new Promise((resolve, reject) => {\n\t\t// TODO: handle ws.onerror properly after dialing has happened\n\t\tws.onerror = (ev) => reject(ev);\n\t\tws.onmessage = (ev) => reader.inject_blob(ev.data);\n\t\tws.onclose = () => reader.inject_eof();\n\t\tws.onopen = () => resolve({\n\t\t\tread: (function*() { while(ws.readyState == 1) { yield reader.next(); } })(),\n\t\t\twrite: (data) => {\n\t\t\t\tif (ws.readyState == 1) {\n\t\t\t\t\tws.send(data);\n\t\t\t\t\treturn promise_when_ws_finished(ws);\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.reject(\"WebSocket is closed\");\n\t\t\t\t}\n\t\t\t},\n\t\t\tshutdown: () => {},\n\t\t\tclose: () => ws.close()\n\t\t});\n\t});\n}\n\n// Takes a WebSocket object and returns a Promise that resolves when bufferedAmount is 0.\nconst promise_when_ws_finished = (ws) => {\n\tif (ws.bufferedAmount == 0) {\n\t\treturn Promise.resolve();\n\t}\n\n\treturn new Promise((resolve, reject) => {\n\t\tsetTimeout(function check() {\n\t\t\tif (ws.bufferedAmount == 0) {\n\t\t\t\tresolve();\n\t\t\t} else {\n\t\t\t\tsetTimeout(check, 100);\n\t\t\t}\n\t\t}, 2);\n\t})\n}\n\n// Creates a queue reading system.\nconst read_queue = () => {\n\t// State of the queue.\n\tlet state = {\n\t\t// Array of promises resolving to `ArrayBuffer`s, that haven't been transmitted back with\n\t\t// `next` yet.\n\t\tqueue: new Array(),\n\t\t// If `resolve` isn't null, it is a \"resolve\" function of a promise that has already been\n\t\t// returned by `next`. It should be called with some data.\n\t\tresolve: null,\n\t};\n\n\treturn {\n\t\t// Inserts a new Blob in the queue.\n\t\tinject_blob: (blob) => {\n\t\t\tif (state.resolve != null) {\n\t\t\t\tvar resolve = state.resolve;\n\t\t\t\tstate.resolve = null;\n\n\t\t\t\tvar reader = new FileReader();\n\t\t\t\treader.addEventListener(\"loadend\", () => resolve(reader.result));\n\t\t\t\treader.readAsArrayBuffer(blob);\n\t\t\t} else {\n\t\t\t\tstate.queue.push(new Promise((resolve, reject) => {\n\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\treader.addEventListener(\"loadend\", () => resolve(reader.result));\n\t\t\t\t\treader.readAsArrayBuffer(blob);\n\t\t\t\t}));\n\t\t\t}\n\t\t},\n\n\t\t// Inserts an EOF message in the queue.\n\t\tinject_eof: () => {\n\t\t\tif (state.resolve != null) {\n\t\t\t\tvar resolve = state.resolve;\n\t\t\t\tstate.resolve = null;\n\t\t\t\tresolve(null);\n\t\t\t} else {\n\t\t\t\tstate.queue.push(Promise.resolve(null));\n\t\t\t}\n\t\t},\n\n\t\t// Returns a Promise that yields the next entry as an ArrayBuffer.\n\t\tnext: () => {\n\t\t\tif (state.queue.length != 0) {\n\t\t\t\treturn state.queue.shift(0);\n\t\t\t} else {\n\t\t\t\tif (state.resolve !== null)\n\t\t\t\t\tthrow \"Internal error: already have a pending promise\";\n\t\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\t\tstate.resolve = resolve;\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n};\n"],"sourceRoot":""}